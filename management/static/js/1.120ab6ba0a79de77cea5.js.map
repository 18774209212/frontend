{"version":3,"sources":["webpack:///src/views/company/MonitorEdit.vue","webpack:///./src/views/company/MonitorEdit.vue?b856","webpack:///./src/views/company/MonitorEdit.vue","webpack:///src/views/company/Monitor.vue","webpack:///./src/views/company/Monitor.vue?1f3e","webpack:///./src/views/company/Monitor.vue","webpack:///src/views/company/MonitorAdd.vue","webpack:///./src/views/company/MonitorAdd.vue?7b37","webpack:///./src/views/company/MonitorAdd.vue","webpack:///(webpack)/buildin/harmony-module.js","webpack:///./src/utils/ezuikit.js","webpack:///src/components/player/MyPlayer.vue","webpack:///./src/components/player/MyPlayer.vue?392a","webpack:///./src/components/player/MyPlayer.vue"],"names":["formItemLayout","labelCol","span","wrapperCol","MonitorEdit","name","props","monitorEditVisiable","default","data","loading","form","this","$form","createForm","videoId","value","methods","reset","resetFields","onClose","$emit","setFormValues","_ref","_this","monitor","objectWithoutProperties_default","fields","obj","keys_default","forEach","key","indexOf","getFieldDecorator","setFieldsValue","token","handleSubmit","_this2","validateFields","err","values","getFieldsValue","$put","extends_default","then","catch","company_MonitorEdit","render","_vm","_h","$createElement","_c","_self","staticStyle","height","overflow","padding-bottom","attrs","title","maskClosable","width","placement","closable","visible","on","close","_b","label","directives","rawName","expression","readOnly","_v","model","callback","$$v","rules","max","message","required","staticClass","okText","cancelText","confirm","margin-right","type","click","staticRenderFns","Component","__webpack_require__","normalizeComponent","__webpack_exports__","Monitor","components","MyPlayer","MonitorAdd","current_user","$store","state","account","user","advanced","dataSource","selectedRowKeys","queryParams","sortedInfo","paginationInfo","pagination","pageSizeOptions","defaultCurrent","defaultPageSize","showQuickJumper","showSizeChanger","showTotal","total","range","video","url","monitorAddVisiable","w","h","isMonitor","player","computed","Object","vuex_esm","company","columns","dataIndex","sorter","sortOrder","columnKey","order","scopedSlots","customRender","fixed","rowSelection","that","onChange","selectedRows","getCheckboxProps","record","disabled","creator","username","mounted","fetch","addMonitor","handleMonitorAddClose","handleMonitorAddSuccess","$message","success","eidtMonitor","$refs","monitorEdit","handleMonitorEditClose","handleMonitorEditSuccess","viewMonitor","item","stopMonitor","stopPlayer","EZUIKit","EZUIPlayer","id","autoplay","accessToken","decoderPath","src","setTimeout","handleCnacel","e","stop","videoDelete","length","$confirm","content","centered","onOk","$delete","join","onCancel","warning","handleTableChange","filters","filteredInfo","sortField","field","params","arguments","undefined","TableInfo","current","pageSize","pageNum","$get","classify","r","rows","company_Monitor","bordered","ghost","ref","rowKey","scroll","x","change","_u","fn","text","theme","twoToneColor","$event","text-align","footer","cancel","style","display","controls","playsInline","webkit-playsinline","ownerId","companyId","ssrContext","onDateChange","str","produceDate","formData","$post","company_MonitorAdd","initialValue","module","exports","originalModule","webpackPolyfill","create","children","defineProperty","enumerable","get","l","i","global","factory","window","noGlobal","a","b","d","t","elements","split","f","s","q","g","c","createElement","cache","cloneNode","p","test","createElem","canHaveChildren","o","tagUrn","frag","appendChild","createFrag","createDocumentFragment","shivMethods","Function","replace","j","shivCSS","k","hasCSS","getElementsByTagName","documentElement","innerHTML","insertBefore","lastChild","firstChild","n","html5","childNodes","version","supportsUnknownElements","shivDocument","addElements","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_typeof___default","document","self","classList","add","contains","DOMTokenList","prototype","call","toggle","m","Element","String","trim","Array","code","DOMException","getAttribute","push","_updateClassName","setAttribute","toString","Error","remove","splice","configurable","number","__defineGetter__","Date","Format","fmt","M+","getMonth","d+","getDate","h+","getHours","m+","getMinutes","s+","getSeconds","q+","Math","floor","S","getMilliseconds","RegExp","$1","getFullYear","substr","Domain","logDomain","ckplayerJS","flv_js","isHttps","location","protocol","isMobile","navigator","userAgent","match","testVideo","isModernBrowser","canPlayType","addEventListener","isNativeSupportHls","dclog","logObj","Ver","PlatAddr","host","ExterVer","CltType","StartTime","OS","platform","tempArray","Image","systemName","RTMP_REG","addJs","filepath","oJs","onload","request","method","_url","http_request","XMLHttpRequest","onreadystatechange","readyState","status","_data","JSON","parse","responseText","open","FormData","append","send","getQueryString","href","decodeURIComponent","isPromise","playParams","opt","sources","handlers","currentSource","env","jSPlugin","getRealUrl","initDecoder","play","handleError","elementID","getElementById","slice","removeAttribute","load","removeChild","cur","poster","videoStyle","el","getComputedStyle","currentStyle","log","parentId","initTime","getTime","playurl","Time","Enc","PlTp","Via","ErrCd","Cost","retry","cost","eventName","emit","apply","apiDomain","domain","promiseTaskList","promiseTaskFun","ezopenURL","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default","resolve","reject","realUrl","nodeUrl","nodeSuccess","retcode","tokens","apiUrl","isHttp","ezopen","isFlv","addressTypes","validateCode","formatRecTime","defaultDate","getRealUrlPromise","map","all","result","search","para","flvjs","isSupported","console","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default","msg","tryPlay","time","defaultTime","start","end","standardTime","substring","me","heght","Number","initVideoEvent","isPlayUrlHttps","initCKPlayer","Hls","initHLS","alert","initJSmpeg","initflv","hlsURL","hls","defaultAudioCodec","loadSource","attachMedia","Events","MANIFEST_PARSED","ERROR","event","fatal","ErrorTypes","NETWORK_ERROR","startLoad","MEDIA_ERROR","recoverMediaError","destroy","events","pause","error","ckplayer_status","videoFlash","parentNode","replaceChild","flashvars","lv","loaded","flashId","CKobject","embedSWF","bgcolor","allowFullScreen","allowScriptAccess","wmode","isloadeddata","isPlaying","stalledCount","EVENT","loadstart","durationchange","loadedmetadata","loadeddata","progress","canplay","canplaythrough","abort","emptied","ended","playing","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting","jsmpegUrl","canvasEle","JSMpeg","Player","canvas","JSmpeg","flvPlayer","createPlayer","isLive","enableStashBuffer","stashInitialSize","enableWorker","attachMediaElement","flv","getPlayParams","JS_OpenSound","websocketConnectUrl","websocketStreamingParam","index","JS_Play","playURL","handleSuccess","oError","errInfo","errorInfo","errorCode","find","detailCode","description","localStorage","storage","JSPlugin","szId","iType","iWidth","iHeight","iMaxSplit","iCurrentSplit","splitBasis","szBasePath","JS_SetSecretKey","language","appKey","stopLoad","unload","detachMediaElement","windDOM","childs","JS_Stop","getObjectById","videoPause","JS_Pause","Util","getUserMedia","webkitGetUserMedia","mozGetUserMedia","msGetUserMedia","AudioContext","webkitAudioContext","EZUITalk","bizParams","u","audioId","Token","uuid","audio","trident","presto","webKit","gecko","mobile","ios","android","iPhone","iPad","webApp","weixin","qq","ie","BUFFER","encoder","isEnded","LENGTH","audioPlay","WavAudioEncoder","buf","shift","encode","URL","createObjectURL","finish","wsUrl","socket","WebSocket","talk","onopen","sendData","messageJson","startRecord","onclose","onerror","onmessage","mediaDevices","stream","context","microphone","createMediaStreamSource","processor","createScriptProcessor","sampleRate","onaudioprocess","array","inputBuffer","getChannelData","realTimeWorker","postMessage","cmd","Worker","connect","destination","disconnect","player_MyPlayer","playsinline","options","playerOptions","playbackRates","muted","loop","preload","aspectRatio","fluid","notSupportedMessage","controlBar","timeDivider","durationDisplay","remainingTimeDisplay","fullscreenToggle","watch","newVal","oldVal"],"mappings":"gLA+DAA,GACAC,UAAAC,KAAA,GACAC,YAAAD,KAAA,KAEAE,GACAC,KAAA,cACAC,OACAC,qBACAC,SAAA,IAGAC,KAPA,WAQA,OACAC,SAAA,EACAV,iBACAW,KAAAC,KAAAC,MAAAC,WAAAF,MACAG,QAAA,GACAC,MAAA,IAGAC,SACAC,MADA,WAEAN,KAAAF,SAAA,EACAE,KAAAD,KAAAQ,eAEAC,QALA,WAMAR,KAAAM,QACAN,KAAAS,MAAA,UAEAC,cATA,SAAAC,GASA,IAAAC,EAAAZ,KAAAa,EAAAC,IAAAH,MACAI,GAAA,iCACAC,KACAhB,KAAAG,QAAAU,EAAAV,QACMc,IAANJ,GAAAK,QAAA,SAAAC,IACA,IAAAJ,EAAAK,QAAAD,KACAP,EAAAb,KAAAsB,kBAAAF,GACAH,EAAAG,GAAAN,EAAAM,GACAP,EAAAb,KAAAuB,eAAAN,MAGAH,EAAAU,MACAvB,KAAAI,MAAA,EAEAJ,KAAAI,MAAA,GAGAoB,aA1BA,WA0BA,IAAAC,EAAAzB,KACAA,KAAAD,KAAA2B,eAAA,SAAAC,EAAAC,GACA,IAAAD,EAAA,CACAF,EAAA3B,SAAA,EACA,IAAAe,EAAAY,EAAA1B,KAAA8B,iBACAhB,EAAAV,QAAAsB,EAAAtB,QACA,IAAAsB,EAAArB,QAAAS,EAAAU,MAAA,MACAE,EAAAK,KAAA,QAAAC,OACAlB,IACAmB,KAAA,WACAP,EAAAnB,QACAmB,EAAAhB,MAAA,aACAwB,MAAA,WACAR,EAAA3B,SAAA,UC1GeoC,GADEC,OAfjB,WAA0B,IAAAC,EAAApC,KAAaqC,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,YAAsBE,aAAaC,OAAA,oBAAAC,SAAA,OAAAC,iBAAA,QAAuEC,OAAQC,MAAA,OAAAC,cAAA,EAAAC,MAAA,MAAAC,UAAA,QAAAC,UAAA,EAAAC,QAAAf,EAAAzC,qBAAyHyD,IAAKC,MAAAjB,EAAA5B,WAAqB+B,EAAA,UAAeM,OAAO9C,KAAAqC,EAAArC,QAAiBwC,EAAA,cAAAH,EAAAkB,IAA2BT,OAAOU,MAAA,SAAgB,cAAAnB,EAAAhD,gBAAA,IAAAmD,EAAA,WAAwDiB,aAAa/D,KAAA,YAAAgE,QAAA,cAAArD,OAAA,WAAAsD,WAAA,gBAAoFb,OAASc,SAAA,OAAe,GAAAvB,EAAAwB,GAAA,KAAArB,EAAA,cAAAH,EAAAkB,IAA2CT,OAAOU,MAAA,OAAc,cAAAnB,EAAAhD,gBAAA,IAAAmD,EAAA,iBAA8DsB,OAAOzD,MAAAgC,EAAA,MAAA0B,SAAA,SAAAC,GAA2C3B,EAAAhC,MAAA2D,GAAcL,WAAA,WAAqBnB,EAAA,WAAgBM,OAAOzC,MAAA,KAAWgC,EAAAwB,GAAA,QAAAxB,EAAAwB,GAAA,KAAArB,EAAA,WAA2CM,OAAOzC,MAAA,KAAWgC,EAAAwB,GAAA,gBAAAxB,EAAAwB,GAAA,KAAArB,EAAA,cAAAH,EAAAkB,IAA8DT,OAAOU,MAAA,SAAgB,cAAAnB,EAAAhD,gBAAA,IAAAmD,EAAA,WAAwDiB,aAAa/D,KAAA,YAAAgE,QAAA,cAAArD,OAAA,SACliC4D,QACCC,IAAA,GAAAC,QAAA,gBACAC,UAAA,EAAAD,QAAA,WACDR,WAAA,+KAA0L,GAAAtB,EAAAwB,GAAA,KAAArB,EAAA,cAAAH,EAAAkB,IAA2CT,OAAOU,MAAA,QAAe,cAAAnB,EAAAhD,gBAAA,IAAAmD,EAAA,WAAwDiB,aAAa/D,KAAA,YAAAgE,QAAA,cAAArD,OAClV,OACa4D,QACGC,IAAA,IAAAC,QAAA,iBACAC,UAAA,EAAAD,QAAA,WACFR,WAAA,8KAAyL,GAAAtB,EAAAwB,GAAA,KAAArB,EAAA,cAAAH,EAAAkB,IAA2CE,aAAa/D,KAAA,OAAAgE,QAAA,SAAArD,MAAA,IAAAgC,EAAAhC,MAAAsD,WAAA,cAA0Eb,OAASU,MAAA,gBAAuB,cAAAnB,EAAAhD,gBAAA,IAAAmD,EAAA,WAAwDiB,aAAa/D,KAAA,YAAAgE,QAAA,cAAArD,OAC9a,SACa4D,QACEC,IAAA,IAAAC,QAAA,mBACDR,WAAA,2HAAsI,OAAAtB,EAAAwB,GAAA,KAAArB,EAAA,OAAgC6B,YAAA,yBAAmC7B,EAAA,gBAAqBM,OAAOC,MAAA,UAAAuB,OAAA,KAAAC,WAAA,MAAkDlB,IAAKmB,QAAAnC,EAAA5B,WAAuB+B,EAAA,YAAiBE,aAAa+B,eAAA,WAAwBpC,EAAAwB,GAAA,YAAAxB,EAAAwB,GAAA,KAAArB,EAAA,YAAgDM,OAAO4B,KAAA,UAAA3E,QAAAsC,EAAAtC,SAAuCsD,IAAKsB,MAAAtC,EAAAZ,gBAA0BY,EAAAwB,GAAA,iBAEnee,oBCDjBC,EAdyBC,EAAQ,OAcjCC,CACEtF,EACA0C,GATF,EAEA,KAEA,KAEA,MAUe6C,EAAA,QAAAH,EAAiB,qKC8DhCC,EAAA,QAEA,IAAAG,GACAvF,KAAA,UACAwF,YAAAC,WAAA,EAAAC,aAAA,QAAA3F,cAAA,SACAK,KAHA,WAIA,OACAuF,aAAApF,KAAAqF,OAAAC,MAAAC,QAAAC,KACAC,UAAA,EACAC,cACAC,mBACAC,eACAC,WAAA,KACA/F,SAAA,EACAgG,eAAA,KACAC,YACAC,iBAAA,2BACAC,eAAA,EACAC,gBAAA,GACAC,iBAAA,EACAC,iBAAA,EACAC,UAAA,SAAAC,EAAAC,GAAA,YAAAA,EAAA,SAAAA,EAAA,aAAAD,EAAA,SAEAnD,SAAA,EACAqD,OACAC,IAAA,GACA3D,MAAA,IAEA4D,oBAAA,EACA/G,qBAAA,EACAgH,EAAA,IACAC,EAAA,IACAC,WAAA,EACAhG,QAAA,KACAiG,OAAA,OAGAC,SAAYhF,OACZiF,OAAAC,EAAA,EAAAD,EACAE,QAAA,SAAA5B,GAAA,OAAAA,EAAAC,QAAA2B,YAEAC,QAJA,WAIA,IACAtB,EAAA7F,KAAA6F,WAEA,QACA/C,MAAA,OACAsE,UAAA,YAEAtE,MAAA,OACAsE,UAAA,UAEAtE,MAAA,OACAsE,UAAA,QAEAtE,MAAA,cACAsE,UAAA,UAEAtE,MAAA,OACAsE,UAAA,aACAC,QAAA,EACAC,UAAA,gBAjBAzB,SAiBA0B,WAAA1B,EAAA2B,QAEA1E,MAAA,KACAsE,UAAA,YACAK,aAAAC,aAAA,aACAC,MAAA,QACA3E,MAAA,OAGA4E,aAhCA,WAiCA,IAAAC,EAAA7H,KACA,OACA8H,SAAA,SAAAnC,EAAAoC,GACAF,EAAAlC,mBAEAqC,iBAAA,SAAAC,GAAA,OACAvI,OACAwI,SAAAD,EAAAE,UAAAN,EAAAzC,aAAAgD,SACA3I,KAAAwI,EAAAE,eAMAE,QAlFA,WAmFArI,KAAAsI,SAEAjI,SACAkI,WADA,WAEAvI,KAAA0G,oBAAA,GAEA8B,sBAJA,WAKAxI,KAAA0G,oBAAA,GAEA+B,wBAPA,WAQAzI,KAAA0G,oBAAA,EACA1G,KAAA0I,SAAAC,QAAA,UACA3I,KAAAsI,SAEAM,YAZA,SAYAX,GACAjI,KAAAL,qBAAA,EACAK,KAAA6I,MAAAC,YAAApI,cAAAuH,IAEAc,uBAhBA,WAiBA/I,KAAAL,qBAAA,GAEAqJ,yBAnBA,WAoBAhJ,KAAAL,qBAAA,EACAK,KAAA0I,SAAAC,QAAA,UACA3I,KAAAsI,SAKAW,YA3BA,SA2BAC,GAAA,IAAAtI,EAAAZ,KACAA,KAAAwG,MAAA1D,MAAAoG,EAAApG,MACA9C,KAAAwG,MAAAC,IAAAyC,EAAAzC,IACAzG,KAAAmD,SAAA,EACAnD,KAAAmJ,cACAnJ,KAAAoJ,aACAF,EAAA3H,OACAvB,KAAA6G,WAAA,EAEA7G,KAAAa,QAAA,IAAAwI,QAAAC,YACAC,GAAA,WACAC,UAAA,EACA/C,IAAAyC,EAAAzC,IACAgD,YAAAP,EAAA3H,MACAmI,YAAA,MACA1G,MAAAhD,KAAA2G,EACAjE,OAAA1C,KAAA4G,MAMA5G,KAAA6G,WAAA,EACA7G,KAAA2J,IAAAT,EAAAzC,IACAmD,WAAA,WAEAhJ,EAAAkG,OAAA,IAAAuC,QAAAC,WAAA,aACA,OAGAO,aAzDA,SAyDAC,GACA9J,KAAAoJ,aACApJ,KAAAmJ,eAEAC,WA7DA,WA8DApJ,KAAA8G,SACA9G,KAAA8G,OAAAiD,OACA/J,KAAA8G,OAAA,KACA9G,KAAA2J,IAAA,OAGAR,YApEA,WAqEAnJ,KAAAa,UACAb,KAAAa,QAAAkJ,OACA/J,KAAAa,QAAA,OAGAmJ,YA1EA,WA2EA,GAAAhK,KAAA2F,gBAAAsE,OAAA,CAIA,IAAApC,EAAA7H,KACAA,KAAAkK,UACApH,MAAA,cACAqH,QAAA,yBACAC,UAAA,EACAC,KAJA,WAKAxC,EAAAyC,QAAA,SAAAzC,EAAAlC,gBAAA4E,KAAA,MAAAvI,KAAA,WACA6F,EAAAa,SAAAC,QAAA,QACAd,EAAAlC,mBACAkC,EAAAS,WAGAkC,SAXA,WAYA3C,EAAAlC,2BAhBA3F,KAAA0I,SAAA+B,QAAA,eAoBAnK,MAhGA,WAkGAN,KAAA2F,mBAEA3F,KAAA6F,WAAA,KAEA7F,KAAA4F,eACA5F,KAAAsI,SAEAoC,kBAzGA,SAyGA3E,EAAA4E,EAAAtD,GAEArH,KAAA8F,eAAAC,EACA/F,KAAA4K,aAAAD,EACA3K,KAAA6F,WAAAwB,EAEArH,KAAAsI,MAAAvG,KACA8I,UAAAxD,EAAAyD,MACAxD,UAAAD,EAAAG,OACAxH,KAAA4F,YACA+E,KAGArC,MAtHA,WAsHA,IAAA7G,EAAAzB,KAAA+K,EAAAC,UAAAf,OAAA,QAAAgB,IAAAD,UAAA,GAAAA,UAAA,MACAhL,KAAAF,SAAA,EACAiL,EAAA5C,QAAAnI,KAAAoF,aAAAgD,SACApI,KAAA8F,gBAEA9F,KAAA6I,MAAAqC,UAAAnF,WAAAoF,QAAAnL,KAAA8F,eAAAqF,QACAnL,KAAA6I,MAAAqC,UAAAnF,WAAAqF,SAAApL,KAAA8F,eAAAsF,SACAL,EAAAK,SAAApL,KAAA8F,eAAAsF,SACAL,EAAAM,QAAArL,KAAA8F,eAAAqF,UAGAJ,EAAAK,SAAApL,KAAA+F,WAAAG,gBACA6E,EAAAM,QAAArL,KAAA+F,WAAAE,gBAEAjG,KAAAsL,KAAA,QAAAvJ,OACAgJ,GACAQ,SAAA,KACAvJ,KAAA,SAAAwJ,GACA,IAAA3L,EAAA2L,EAAA3L,KACA4B,EAAAiE,WAAA7F,EAAA4L,KACA,IAAA1F,EAAAhE,OAAAN,EAAAsE,YACAA,EAAAO,MAAAzG,EAAAyG,MACA7E,EAAAsE,aACAtE,EAAA3B,SAAA,OCtTe4L,GADEvJ,OAFjB,WAA0B,IAAAC,EAAApC,KAAaqC,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,UAAoB6B,YAAA,YAAAvB,OAA+B8I,UAAA,KAAkBpJ,EAAA,OAAAA,EAAA,OAAsB6B,YAAA,aAAuB7B,EAAA,YAAiBM,OAAO4B,KAAA,UAAAmH,MAAA,IAA4BxI,IAAKsB,MAAAtC,EAAAmG,cAAwBnG,EAAAwB,GAAA,QAAAxB,EAAAwB,GAAA,KAAArB,EAAA,YAA4CiB,aAAa/D,KAAA,gBAAAgE,QAAA,kBAAArD,MAAA,eAAAsD,WAAA,mBAAkGb,OAAS4B,KAAA,UAAAmH,MAAA,IAA4BxI,IAAKsB,MAAAtC,EAAA4H,eAAyB5H,EAAAwB,GAAA,YAAAxB,EAAAwB,GAAA,KAAArB,EAAA,WAA+CsJ,IAAA,YAAAhJ,OAAuBsE,QAAA/E,EAAA+E,QAAAzB,WAAAtD,EAAAsD,WAAAoG,OAAA,UAAA/F,WAAA3D,EAAA2D,WAAAjG,QAAAsC,EAAAtC,QAAAiM,QAAiIC,EAAA,KAASpE,aAAAxF,EAAAwF,cAAiCxE,IAAK6I,OAAA7J,EAAAsI,mBAA+BjD,YAAArF,EAAA8J,KAAsB/K,IAAA,YAAAgL,GAAA,SAAAC,EAAAnE,GAA0C,OAAA1F,EAAA,UAAqBM,OAAO4B,KAAA,OAAA4H,MAAA,UAAAC,aAAA,UAAAxJ,MAAA,MAAsEM,IAAKsB,MAAA,SAAA6H,GAAyBnK,EAAAwG,YAAAX,OAA0B7F,EAAAwB,GAAA,KAAArB,EAAA,UAA2BM,OAAO4B,KAAA,MAAA4H,MAAA,UAAAC,aAAA,UAAAxJ,MAAA,MAAqEM,IAAKsB,MAAA,SAAA6H,GAAyBnK,EAAA6G,YAAAhB,eAAiC,GAAA7F,EAAAwB,GAAA,KAAArB,EAAA,WAAgCE,aAAa+J,aAAA,UAAsB3J,OAAQC,MAAAV,EAAAoE,MAAA1D,MAAAE,MAAA,IAAAyJ,OAAA,KAAA1J,cAAA,EAAAsB,OAAA,KAAAC,WAAA,MAAuGlB,IAAKsJ,OAAAtK,EAAAyH,cAA0BhG,OAAQzD,MAAAgC,EAAA,QAAA0B,SAAA,SAAAC,GAA6C3B,EAAAe,QAAAY,GAAgBL,WAAA,aAAuBnB,EAAA,OAAYiB,aAAa/D,KAAA,OAAAgE,QAAA,SAAArD,MAAAgC,EAAA,UAAAsB,WAAA,cAA0EiJ,OAAU3J,MAAAZ,EAAAuE,EAAA,KAAAjE,OAAAN,EAAAwE,EAAA,KAAAgG,QAAA,gBAA+D/J,OAAS0G,GAAA,cAAiBnH,EAAAwB,GAAA,KAAArB,EAAA,SAA0BiB,aAAa/D,KAAA,OAAAgE,QAAA,SAAArD,OAAAgC,EAAAyE,UAAAnD,WAAA,eAA4EiJ,OAAU3J,MAAAZ,EAAAuE,EAAA,KAAAjE,OAAAN,EAAAwE,EAAA,KAAAgG,QAAA,gBAA+D/J,OAAS0G,GAAA,WAAAI,IAAAvH,EAAAoE,MAAAC,IAAAoG,SAAA,GAAAC,YAAA,GAAAC,qBAAA,GAAAvD,SAAA,QAA0GpH,EAAAwB,GAAA,KAAArB,EAAA,eAAkCM,OAAO6D,mBAAAtE,EAAAsE,mBAAAsG,QAAA5K,EAAA8E,QAAA+F,WAA4E7J,IAAKuF,QAAAvG,EAAAqG,wBAAApF,MAAAjB,EAAAoG,yBAAyEpG,EAAAwB,GAAA,KAAArB,EAAA,gBAAiCsJ,IAAA,cAAAhJ,OAAyBlD,oBAAAyC,EAAAzC,qBAA8CyD,IAAKuF,QAAAvG,EAAA4G,yBAAA3F,MAAAjB,EAAA2G,2BAA2E,IAE3xEpE,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACEE,EACA0G,GATF,EAVA,SAAAwB,GACErI,EAAQ,SAaV,kBAEA,MAUeE,EAAA,QAAAH,EAAiB,qHCyChCxF,GACAC,UAAAC,KAAA,GACAC,YAAAD,KAAA,KAEA6F,GACA1F,KAAA,aACAC,OACAgH,oBACA9G,SAAA,GAEAoN,YAEAnN,KARA,WASA,OACAC,SAAA,EACAV,iBACAW,KAAAC,KAAAC,MAAAC,WAAAF,MACAI,MAAA,IAGAC,SACA8M,aADA,SACA/M,EAAAgN,GACApN,KAAAqN,YAAAD,GAEA9M,MAJA,WAKAN,KAAAF,SAAA,EACAE,KAAAD,KAAAQ,eAEAC,QARA,WASAR,KAAAM,QACAN,KAAAS,MAAA,UAEAe,aAZA,WAYA,IAAAZ,EAAAZ,KACAA,KAAAD,KAAA2B,eAAA,SAAAC,EAAAC,GACA,IAAAD,EAAA,CACAC,EAAAyL,YAAAzM,EAAAyM,YACAzM,EAAAd,SAAA,EACA,IAAAc,EAAAR,QAAAwB,EAAAL,MAAA,MACA,IAAA+L,KACUrM,IAAVW,GAAAV,QAAA,SAAAC,GACAS,EAAAT,KACAmM,EAAAnM,GAAAS,EAAAT,MAGAP,EAAA2M,MAAA,gBAAAD,GAAAtL,KAAA,WACApB,EAAAN,QACAM,EAAAH,MAAA,aACAwB,MAAA,WACArB,EAAAd,SAAA,UC/Fe0N,GADErL,OAnBjB,WAA0B,IAAAC,EAAApC,KAAaqC,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,YAAsBE,aAAaC,OAAA,oBAAAC,SAAA,OAAAC,iBAAA,QAAuEC,OAAQC,MAAA,OAAAC,cAAA,EAAAC,MAAA,MAAAC,UAAA,QAAAC,UAAA,EAAAC,QAAAf,EAAAsE,oBAAwHtD,IAAKC,MAAAjB,EAAA5B,WAAqB+B,EAAA,UAAeM,OAAO9C,KAAAqC,EAAArC,QAAiBwC,EAAA,cAAAH,EAAAkB,IAA2BT,OAAOU,MAAA,SAAgB,cAAAnB,EAAAhD,gBAAA,IAAAmD,EAAA,WAAwDiB,aAAa/D,KAAA,YAAAgE,QAAA,cAAArD,OAAA,WACzeqN,aAAArL,EAAA4K,QAClBhJ,QACmBG,UAAA,EAAAD,QAAA,WACDR,WAAA,kKAA8Kb,OAASc,SAAA,OAAe,GAAAvB,EAAAwB,GAAA,KAAArB,EAAA,cAAAH,EAAAkB,IAA2CT,OAAOU,MAAA,OAAc,cAAAnB,EAAAhD,gBAAA,IAAAmD,EAAA,iBAA8DsB,OAAOzD,MAAAgC,EAAA,MAAA0B,SAAA,SAAAC,GAA2C3B,EAAAhC,MAAA2D,GAAcL,WAAA,WAAqBnB,EAAA,WAAgBM,OAAOzC,MAAA,KAAWgC,EAAAwB,GAAA,QAAAxB,EAAAwB,GAAA,KAAArB,EAAA,WAA2CM,OAAOzC,MAAA,KAAWgC,EAAAwB,GAAA,gBAAAxB,EAAAwB,GAAA,KAAArB,EAAA,cAAAH,EAAAkB,IAA8DT,OAAOU,MAAA,SAAgB,cAAAnB,EAAAhD,gBAAA,IAAAmD,EAAA,WAAwDiB,aAAa/D,KAAA,YAAAgE,QAAA,cAAArD,OAAA,SAClpB4D,QACCC,IAAA,GAAAC,QAAA,gBACAC,UAAA,EAAAD,QAAA,WACDR,WAAA,+KAA0L,GAAAtB,EAAAwB,GAAA,KAAArB,EAAA,cAAAH,EAAAkB,IAA2CT,OAAOU,MAAA,QAAe,cAAAnB,EAAAhD,gBAAA,IAAAmD,EAAA,WAAwDiB,aAAa/D,KAAA,YAAAgE,QAAA,cAAArD,OAClV,OACa4D,QACGC,IAAA,IAAAC,QAAA,iBACAC,UAAA,EAAAD,QAAA,WACFR,WAAA,8KAAyL,GAAAtB,EAAAwB,GAAA,KAAArB,EAAA,cAAAH,EAAAkB,IAA2CE,aAAa/D,KAAA,OAAAgE,QAAA,SAAArD,MAAA,IAAAgC,EAAAhC,MAAAsD,WAAA,cAA0Eb,OAASU,MAAA,gBAAuB,cAAAnB,EAAAhD,gBAAA,IAAAmD,EAAA,WAAwDiB,aAAa/D,KAAA,YAAAgE,QAAA,cAAArD,OAC9a,SACa4D,QACEC,IAAA,IAAAC,QAAA,mBACDR,WAAA,2HAAsI,OAAAtB,EAAAwB,GAAA,KAAArB,EAAA,OAAgC6B,YAAA,yBAAmC7B,EAAA,gBAAqBM,OAAOC,MAAA,UAAAuB,OAAA,KAAAC,WAAA,MAAkDlB,IAAKmB,QAAAnC,EAAA5B,WAAuB+B,EAAA,YAAiBE,aAAa+B,eAAA,WAAwBpC,EAAAwB,GAAA,YAAAxB,EAAAwB,GAAA,KAAArB,EAAA,YAAgDM,OAAO4B,KAAA,UAAA3E,QAAAsC,EAAAtC,SAAuCsD,IAAKsB,MAAAtC,EAAAZ,gBAA0BY,EAAAwB,GAAA,iBAEnee,oBCLjBC,EAdyBC,EAAQ,OAcjCC,CACEK,EACAqI,GATF,EAEA,KAEA,KAEA,MAUezI,EAAA,QAAAH,EAAiB,mDCvBhC8I,EAAAC,QAAA,SAAAC,GACA,IAAAA,EAAAC,gBAAA,CACA,IAAAH,EAAA1G,OAAA8G,OAAAF,GAEAF,EAAAK,WAAAL,EAAAK,aACA/G,OAAAgH,eAAAN,EAAA,UACAO,YAAA,EACAC,IAAA,WACA,OAAAR,EAAAS,KAGAnH,OAAAgH,eAAAN,EAAA,MACAO,YAAA,EACAC,IAAA,WACA,OAAAR,EAAAU,KAGApH,OAAAgH,eAAAN,EAAA,WACAO,YAAA,IAEAP,EAAAG,gBAAA,EAEA,OAAAH,uGCRYW,EAAQC,iEAARD,EAiBS,oBAAXE,OAAyBA,OAASvO,KAjBxBsO,EAiB8B,SAAUC,EAAQC,IAIhE,SAAUC,EAAGC,GASb,SAASC,IACP,IAAIF,EAAIG,EAAEC,SACV,MAAoB,iBAANJ,EAAiBA,EAAEK,MAAM,KAAOL,EAShD,SAASM,EAAGN,GACV,IAAIC,EAAIM,EAAEP,EAAEQ,IACZ,OAAOP,IAAOA,KAASlD,IAAMiD,EAAEQ,GAAKzD,EAAKwD,EAAExD,GAAKkD,GAAKA,EAEvD,SAASQ,EAAGT,EAAGU,EAAGR,GAChB,OAAKQ,IAAMA,EAAIT,GAAIP,EAAWgB,EAAEC,cAAcX,IAC9CE,IAAMA,EAAII,EAAEI,MAGTrF,EAAI6E,EAAEU,MAAMZ,GACTE,EAAEU,MAAMZ,GAAGa,YACXC,EAAEC,KAAKf,IACJE,EAAEU,MAAMZ,GAAKE,EAAEc,WAAWhB,IAAIa,YAC/BX,EAAEc,WAAWhB,IAChBiB,iBAAmBC,EAAEH,KAAKf,IAAM3E,EAAE8F,OAAS9F,EAAI6E,EAAEkB,KAAKC,YAAYhG,IAPvE,IAAIA,EAsBN,SAASsE,EAAGK,EAAGC,GACbA,EAAEW,QACEX,EAAEW,SACHX,EAAEe,WAAahB,EAAEW,cACjBV,EAAEqB,WAAatB,EAAEuB,uBACjBtB,EAAEmB,KAAOnB,EAAEqB,cACbtB,EAAEW,cAAgB,SAAUD,GAC3B,OAAOP,EAAEqB,YAAcf,EAAEC,EAAGV,EAAGC,GAAKA,EAAEe,WAAWN,IAElDV,EAAEuB,uBAAyBE,SAC1B,MACA,2EACIvB,IACGpE,OACA4F,QAAQ,YAAa,SAAU1B,GAC9B,OACEC,EAAEe,WAAWhB,GAAIC,EAAEmB,KAAKT,cAAcX,GAAI,MAAQA,EAAI,OAG5D,cAVsByB,CAW1BtB,EAAGF,EAAEmB,MAET,SAASO,EAAG3B,GACVA,IAAMA,EAAIC,GACV,IAAIC,EAAII,EAAEN,GACV,OACGG,EAAEyB,SACDC,GACA3B,EAAE4B,SACD5B,EAAE4B,SA7ET,SAAY9B,EAAGC,GACb,IAAIS,EAAIV,EAAEW,cAAc,KACtBT,EAAIF,EAAE+B,qBAAqB,QAAQ,IAAM/B,EAAEgC,gBAC7C,OACGtB,EAAEuB,UAAY,WAAahC,EAAI,WAChCC,EAAEgC,aAAaxB,EAAEyB,UAAWjC,EAAEkC,YAwEd1B,CACZV,EACA,sJAEJN,GAAKC,EAAEK,EAAGE,GACVF,EAGJ,IAAI6B,EACFnC,EAEA2C,EAAIrC,EAAEsC,UACNpB,EAAI,qEACJJ,EAAI,6GACJN,EAAI,aACJzD,EAAI,EACJwD,MACA,WACA,IACE,IAAIP,EAAIC,EAAEU,cAAc,KACtBX,EAAEiC,UAAY,cACfJ,EAAI,WAAY7B,EAChBN,EAC0B,GAAvBM,EAAEuC,WAAW/G,QACZ,WACCyE,EAAEU,cAAc,KAChB,IAAIX,EAAIC,EAAEsB,yBACV,YACyB,IAAhBvB,EAAEa,gBAC2B,IAA7Bb,EAAEuB,6BACkB,IAApBvB,EAAEW,cANZ,GASL,MAAOD,GACLmB,GAAI,EAAMnC,GAAI,GAjBlB,GAoBF,IAAIS,GACFC,SACEiC,EAAEjC,UACF,0LACFoC,QA/BI,QAgCJZ,SAAuB,IAAdS,EAAET,QACXa,wBAAyB/C,EACzB8B,aAA+B,IAAlBa,EAAEb,YACfxL,KAAM,UACN0M,aAAcf,EACdhB,cAAeF,EACfc,uBAzFF,SAAYvB,EAAGU,GACb,GAAKV,IAAMA,EAAIC,GAAIP,EAAI,OAAOM,EAAEuB,yBAEhC,IACE,IAAIlG,GAFNqF,EAAIA,GAAKJ,EAAEN,IAECoB,KAAKP,YAAaJ,EAAI,EAAGtI,EAAI+H,IAAKP,EAAIxH,EAAEqD,OAClDmE,EAAIc,EACJA,IAEApF,EAAEsF,cAAcxI,EAAEsI,IAEpB,OAAOpF,GAgFPsH,YAlHF,SAAY3C,EAAGC,GACb,IAAIS,EAAIP,EAAEC,SACG,iBAANM,IAAmBA,EAAIA,EAAE5E,KAAK,MACxB,iBAANkE,IAAmBA,EAAIA,EAAElE,KAAK,MACpCqE,EAAEC,SAAWM,EAAI,IAAMV,EACxB2B,EAAE1B,KA+GFD,EAAEsC,MAAQnC,EACZwB,EAAE1B,GACgB,WAAlB2C,IAAO3D,IAAuBA,EAAOC,UAAYD,EAAOC,QAAUiB,GAnIlE,MAoImB,IAAXL,EAAyBA,EAASvO,KAAMsR;;AAG9C,aAAcC,OACV,cAAeD,SAASlC,cAAc,KA6IzC,WACC,IAAIV,EAAI4C,SAASlC,cAAc,KAE/B,GADAV,EAAE8C,UAAUC,IAAI,KAAM,OACjB/C,EAAE8C,UAAUE,SAAS,MAAO,CAC/B,IAAIvC,EAAI,SAAUrF,GAChB,IAAI6E,EAAIgD,aAAaC,UAAU9H,GAC/B6H,aAAaC,UAAU9H,GAAK,SAAUlD,GACpC,IAAIsI,EACFH,EAAI/D,UAAUf,OAChB,IAAKiF,EAAI,EAAGA,EAAIH,EAAGG,IACjBtI,EAAIoE,UAAUkE,GACdP,EAAEkD,KAAK7R,KAAM4G,KAInBuI,EAAE,OACFA,EAAE,UAGJ,GADAT,EAAE8C,UAAUM,OAAO,MAAM,GACrBpD,EAAE8C,UAAUE,SAAS,MAAO,CAC9B,IAAIjD,EAAIkD,aAAaC,UAAUE,OAC/BH,aAAaC,UAAUE,OAAS,SAAUnD,EAAG7E,GAC3C,OAAI,KAAKkB,YAAchL,KAAK0R,SAAS/C,KAAQ7E,EACpCA,EAEA2E,EAAEoD,KAAK7R,KAAM2O,IAI1BD,EAAI,KA7BL,GA5IA,SAAW0B,GAEV,GAAM,YAAaA,EAAnB,CAGA,IAAI3B,EAAI,YACNM,EAAI,YACJgD,EAAI3B,EAAE4B,QAAQjD,GACdL,EAAI1H,OACJsJ,EACE2B,OAAOlD,GAAGmD,MACV,WACE,OAAOlS,KAAKmQ,QAAQ,aAAc,KAEtChB,EACEgD,MAAMpD,GAAG3N,SACT,SAAU6N,GAGR,IAFA,IAAIM,EAAI,EACNI,EAAI3P,KAAKiK,OACJsF,EAAII,EAAGJ,IACZ,GAAIA,KAAKvP,MAAQA,KAAKuP,KAAON,EAC3B,OAAOM,EAGX,OAAQ,GAEZuB,EAAI,SAAUnB,EAAGJ,GACfvP,KAAKP,KAAOkQ,EACZ3P,KAAKoS,KAAOC,aAAa1C,GACzB3P,KAAKkE,QAAUqL,GAEjBL,EAAI,SAAUK,EAAGI,GACf,GAAU,KAANA,EACF,MAAM,IAAImB,EACR,aACA,8CAGJ,GAAI,KAAKtB,KAAKG,GACZ,MAAM,IAAImB,EACR,wBACA,wCAGJ,OAAO3B,EAAE0C,KAAKtC,EAAGI,IAEnBhB,EAAI,SAAUK,GAKZ,IAJA,IAAIxD,EAAI8E,EAAEuB,KAAK7C,EAAEsD,aAAa,UAAY,IACxCrD,EAAIzD,EAAIA,EAAEsD,MAAM,UAChBS,EAAI,EACJI,EAAIV,EAAEhF,OACDsF,EAAII,EAAGJ,IACZvP,KAAKuS,KAAKtD,EAAEM,IAEdvP,KAAKwS,iBAAmB,WACtBxD,EAAEyD,aAAa,QAASzS,KAAK0S,cAGjC5I,EAAK6E,EAAEI,MACPX,EAAI,WACF,OAAO,IAAIO,EAAE3O,OA+DjB,GA7DA8Q,EAAE/B,GAAK4D,MAAM5D,GACbjF,EAAEZ,KAAO,SAAUyG,GACjB,OAAO3P,KAAK2P,IAAM,MAEpB7F,EAAE4H,SAAW,SAAU/B,GAErB,OAAuB,IAAhBT,EAAElP,KADT2P,GAAK,KAGP7F,EAAE2H,IAAM,WACN,IAGExC,EAHED,EAAIhE,UACNQ,EAAI,EACJ+D,EAAIP,EAAE/E,OAEN0F,GAAI,EACN,GACEV,EAAID,EAAExD,GAAK,IACS,IAAhB0D,EAAElP,KAAMiP,KACVjP,KAAKuS,KAAKtD,GACVU,GAAI,WAEGnE,EAAI+D,GACXI,GACF3P,KAAKwS,oBAGT1I,EAAE8I,OAAS,WACT,IAGEpH,EAEAyD,EALEL,EAAI5D,UACNgE,EAAI,EACJO,EAAIX,EAAE3E,OAEN0F,GAAI,EAEN,GAGE,IAFAnE,EAAIoD,EAAEI,GAAK,GACXC,EAAIC,EAAElP,KAAMwL,IACE,IAAPyD,GACLjP,KAAK6S,OAAO5D,EAAG,GACfU,GAAI,EACJV,EAAIC,EAAElP,KAAMwL,WAELwD,EAAIO,GACXI,GACF3P,KAAKwS,oBAGT1I,EAAEgI,OAAS,SAAUvC,EAAGN,GACtBM,GAAK,GACL,IAAII,EAAI3P,KAAK0R,SAASnC,GACpB/D,EAAImE,GAAU,IAANV,GAAc,UAAiB,IAANA,GAAe,MAIlD,OAHIzD,GACFxL,KAAKwL,GAAG+D,IAEA,IAANN,IAAoB,IAANA,EACTA,GAECU,GAGZ7F,EAAE4I,SAAW,WACX,OAAO1S,KAAKuK,KAAK,MAEfmE,EAAEV,eAAgB,CACpB,IAAIG,GAAMD,IAAKE,EAAGH,YAAY,EAAM6E,cAAc,GAClD,IACEpE,EAAEV,eAAe+D,EAAGtD,EAAGN,GACvB,MAAOvH,IACW,aAAdA,EAAEmM,SACJ5E,EAAEF,YAAa,EACfS,EAAEV,eAAe+D,EAAGtD,EAAGN,UAIvBO,EAAEK,GAAGiE,kBACPjB,EAAEiB,iBAAiBvE,EAAGL,IAvI3B,CA0IEmD,OAoCP0B,KAAKrB,UAAUsB,OAAS,SAAUC,GAEhC,IAAIxD,GACFyD,KAAMpT,KAAKqT,WAAa,EACxBC,KAAMtT,KAAKuT,UACXC,KAAMxT,KAAKyT,WACXC,KAAM1T,KAAK2T,aACXC,KAAM5T,KAAK6T,aACXC,KAAMC,KAAKC,OAAOhU,KAAKqT,WAAa,GAAK,GACzCY,EAAGjU,KAAKkU,mBAQV,IAAK,IAAI5D,IANL,OAAOd,KAAK2D,KACdA,EAAMA,EAAIhD,QACRgE,OAAOC,IACNpU,KAAKqU,cAAgB,IAAIC,OAAO,EAAIH,OAAOC,GAAGnK,UAGrC0F,EACR,IAAIwE,OAAO,IAAM7D,EAAI,KAAKd,KAAK2D,KACjCA,EAAMA,EAAIhD,QACRgE,OAAOC,GACa,GAApBD,OAAOC,GAAGnK,OACN0F,EAAEW,IACD,KAAOX,EAAEW,IAAIgE,QAAQ,GAAK3E,EAAEW,IAAIrG,UAI3C,OAAOkJ,GAGT,IAAIoB,EAAS,uBACTC,EAAY,oCAEZC,EAAaF,EAAS,sCAGtBG,EAASH,EAAS,4BAMlBI,EAAuC,WAA7BpG,EAAOqG,SAASC,SAE1BC,IAAaC,UAAUC,UAAUC,MACnC,6CAEEC,EAAY5D,SAASlC,cAAc,SAEnC+F,IAAoBD,EAAUE,eAAiB7G,EAAO8G,iBAEtDC,EACFH,GAAmBD,EAAUE,YAAY,iCAS3C,SAASG,EAAOvU,GACd,IACIwU,GACFC,IAAK,UACLC,SAHWnH,EAAOqG,SAASC,SAAW,KAAOtG,EAAOqG,SAASe,KAI7DC,SAAU,WACVC,QAAS,IACTC,WAAW,IAAI7C,MAAOC,OAAO,yBAC7B6C,GAAIhB,UAAUiB,UAEhB,IAAK,IAAI5H,KAAKpN,EACZwU,EAAOpH,GAAKpN,EAAIoN,GAGlB,IAAI6H,KACJ,IAAK,IAAI7F,KAAKoF,EACZS,EAAU1D,KAAKnC,EAAI,IAAMoF,EAAOpF,IAElC,IAAIrF,EAAS,IAAMkL,EAAU1L,KAAK,MAExB,IAAI2L,OACVvM,IAAM6K,EAAYzJ,EAIxBwK,GACEY,WA9Bc,6BAiChB,IAAIC,EAAW,QAUf,SAASC,EAAOC,EAAUxS,GACxB,IAAIyS,EAAMjF,SAASlC,cAAc,UACjCmH,EAAI9D,aAAa,MAAO6D,GACxBC,EAAIC,OAAS1S,EACbwN,SAASd,qBAAqB,QAAQ,GAAGV,YAAYyG,GAGvD,SAASE,EAAShQ,EAAKiQ,EAAQ3L,EAAQpC,GACrC,IAAIgO,EAAOlQ,EACPmQ,EAAe,IAAIC,eACvBD,EAAaE,mBAAqB,WAChC,GAA+B,GAA3BF,EAAaG,YACY,KAAvBH,EAAaI,OAAe,CAC9B,IAAIC,EAAQC,KAAKC,MAAMP,EAAaQ,cACpCzO,EAAQsO,KAIdL,EAAaS,KAAKX,EAAQC,GAAM,GAEhC,IAAI9W,EAAO,IAAIyX,SACf,IAAK,IAAIlJ,KAAKrD,EACZlL,EAAK0X,OAAOnJ,EAAGrD,EAAOqD,IAExBwI,EAAaY,KAAK3X,GAGpB,SAAS4X,EAAgBhY,EAAMgH,GAC7B,IAAI+E,EAAI,IAAI2I,OAAO,YAAc1U,EAAO,iBACpCsS,GAAKtL,GAAOmO,SAAS8C,MAAMzC,MAAMzJ,GACrC,OAAOmM,mBAAmB5F,EAAIA,EAAE,GAAK,IAGvC,SAAS6F,EAAW5W,GAClB,QACIA,IACc,iBAAf,IAAOA,EAAP,YAAAqQ,IAAOrQ,KAAmC,mBAARA,IACf,mBAAbA,EAAIgB,KAIf,IAAIsH,EAAa,SAAUuO,GACzB,IAAK1C,EACH,MAAM,IAAIxC,MAAM,iBAQlB,GALA3S,KAAK8X,OACL9X,KAAK8X,IAAIC,WACT/X,KAAKgY,YAGqB,iBAAtB,IAAOH,EAAP,YAAAxG,IAAOwG,KAA2BA,EAAWnO,YAAa,CAG5D,GACoC,iBAA3BmO,EAAWnO,kBACgB,IAA3BmO,EAAWnO,YAElB,MAAM,IAAIiJ,MAAM,4CAGlB,GAC2B,iBAAlBkF,EAAWtO,SACO,IAAlBsO,EAAWtO,GAElB,MAAM,IAAIoJ,MAAM,qCAElB,GAC4B,iBAAnBkF,EAAWpR,UACQ,IAAnBoR,EAAWpR,IAElB,MAAM,IAAIkM,MAAM,sCAGlB3S,KAAK8X,IAAIC,QAAQxF,KAAKsF,EAAWpR,KAEjCzG,KAAK8X,IAAIG,cAAgBjY,KAAK8X,IAAIC,QAAQ,GAEtCF,EAAWK,IAIflY,KAAKmY,YACL,IAAIvX,EAAQZ,KAERoY,EAAapY,KAAKoY,WAAWP,GAE7BD,EAAUQ,IACZA,EACGpW,KAAK,WACJ,IAAIqW,EAAczX,EAAMyX,YAAYR,GAChCD,EAAUS,KAAwC,IAAxBR,EAAWrO,UACvC6O,EAAYrW,KAAK,WACfpB,EAAM0X,MAAOC,YAAaV,EAAWU,kBAI1CtW,MAAM,WACL,IAAIoW,EAAczX,EAAMyX,YAAYR,GAChCD,EAAUS,KAAwC,IAAxBR,EAAWrO,UACvC6O,EAAYrW,KAAK,oBAMpB,CACL,IAAIwW,EAAY,GAUhB,GAT0B,iBAAfX,EAETW,EAAYX,EACmB,iBAAtB,IAAOA,EAAP,YAAAxG,IAAOwG,MAEhBW,EAAYX,EAAWtO,IAEzBvJ,KAAKG,QAAUqY,EACfxY,KAAKwG,MAAQ8K,SAASmH,eAAeD,IAChCxY,KAAKwG,MACR,MAAM,IAAImM,MAAM,yCAElB,IAAIoF,EAAU/X,KAAKwG,MAAMgK,qBAAqB,UAE9CuH,EAAU5F,MAAMP,UAAU8G,MAAM7G,KAAKkG,EAAS,GAE1C/X,KAAKwG,MAAMmD,MAETmL,GAAYsB,EAAS5G,KAAKxP,KAAKwG,MAAMmD,MACvC3J,KAAKwG,MAAMmS,gBAAgB,OAC3B3Y,KAAKwG,MAAMoS,QAEX5Y,KAAK8X,IAAIC,QAAQxF,KAAKvS,KAAKwG,MAAMmD,MAIrC,IAAIwE,EAAI4J,EAAQ9N,OAChB,GAAIkE,EAAI,EACN,IAAK,IAAIC,EAAI,EAAGA,EAAID,EAAGC,IAEjB0G,GAAYsB,EAAS5G,KAAKuI,EAAQ3J,GAAGzE,KACvC3J,KAAKwG,MAAMqS,YAAYd,EAAQ3J,IAE/BpO,KAAK8X,IAAIC,QAAQxF,KAAKwF,EAAQ3J,GAAGzE,KAIvC,GAAI3J,KAAK8X,IAAIC,QAAQ9N,OAAS,EAC5B,MAAM,IAAI0I,MAAM,iCAElB3S,KAAK8X,IAAIgB,IAAM,EACf9Y,KAAK8X,IAAIiB,OAAS/Y,KAAKwG,MAAMuS,OAC7B,IAAIC,GA7JWC,EA6JWjZ,KAAKwG,MA5J1B+H,EAAO2K,iBACV3K,EAAO2K,iBAAiBD,EAAI,MAC5BA,EAAGE,cA2JDnW,EAAQhD,KAAKwG,MAAMxD,MACnBN,EAAS1C,KAAKwG,MAAM9D,OACpBM,GACFhD,KAAK8X,IAAI9U,MAAQA,EAEfhD,KAAK8X,IAAIpV,OADPA,GAGgB,OAEpB1C,KAAKoZ,IAAI,eAAiBpZ,KAAK8X,IAAI9U,MAAQ,WAAahD,KAAK8X,IAAIpV,UAEjE1C,KAAK8X,IAAI9U,MAAQgW,EAAWhW,MAC5BhD,KAAK8X,IAAIpV,OAASsW,EAAWtW,OAC7B1C,KAAKoZ,IACH,oBACEJ,EAAWhW,MACX,sBACAgW,EAAWtW,SAGjB1C,KAAK8X,IAAIuB,SAAWb,EACpBxY,KAAK8X,IAAItO,WAAaxJ,KAAKwG,MAAMgD,SACjCxJ,KAAKoZ,IAAI,YAAcpZ,KAAKwG,MAAMgD,UAElCxJ,KAAK8X,IAAIG,cAAgBjY,KAAK8X,IAAIC,QAAQ/X,KAAK8X,IAAIgB,KACnD9Y,KAAKoY,WAAWP,GAvLpB,IAAmBoB,EA2LjBjZ,KAAKgY,YACLhY,KAAKsZ,UAAW,IAAIrG,MAAOsG,UAE3BvZ,KAAKoD,GAAG,OAAQ,WAEdmS,GACEY,WAnOU,2BAoOVqD,QAASxZ,KAAK8X,IAAIG,cAClBwB,MAAM,IAAIxG,MAAOC,OAAO,yBACxBwG,IAAK,EACLC,KAAM,EACNC,IAAK,EACLC,MAAO,EACPC,MAAM,IAAI7G,MAAOsG,UAAYvZ,KAAKsZ,aAGtCtZ,KAAK+Z,MAAQ,EACb/Z,KAAKoD,GAAG,QAAS,WACfmS,GACEY,WAhPU,2BAiPVqD,QAASxZ,KAAK8X,IAAIG,cAClB+B,MAAO,EACPH,OAAQ,OAMdvQ,EAAWsI,UAAUxO,GAAK,SAAU6W,EAAWnW,GACpB,iBAAdmW,GAA8C,mBAAbnW,SAGJ,IAA7B9D,KAAKgY,SAASiC,KACvBja,KAAKgY,SAASiC,OAEhBja,KAAKgY,SAASiC,GAAW1H,KAAKzO,KAIhCwF,EAAWsI,UAAUsI,KAAO,WAC1B,GAAIla,KAAKgY,SAAShN,UAAU,cAAemH,MAGzC,IAFA,IAAI6F,EAAWhY,KAAKgY,SAAShN,UAAU,IACnCmD,EAAI6J,EAAS/N,OACRmE,EAAI,EAAGA,EAAID,EAAGC,IACrB4J,EAAS5J,GAAG+L,MAAMna,KAAMmS,MAAMP,UAAU8G,MAAM7G,KAAK7G,UAAW,KAKpE1B,EAAWsI,UAAUwG,WAAa,SAAUP,GAC1C,IAAIjX,EAAQZ,KACRoa,EAAY,uBAKhB,GAJIvC,GAAcA,EAAWK,MAC3BkC,EAAYvC,EAAWK,IAAImC,QAGzBxC,GAAcA,EAAWnO,YAAa,CACxC,IAqGI4Q,KACAC,EAAiB,SAAAC,GACnB,OAAO,IAAIC,EAAAhM,EAAQ,SAACiM,EAASC,GAAV,OAvGG,SAAUD,EAASC,EAAQH,GACjD,IAAII,EAAU,GACd,GAAK,eAAepL,KAAKgL,GAGlB,CACL,IAAIK,EACFT,EACA,4CACAvC,EAAWpO,YACX,kBACqC,IAApCoO,EAAWpR,IAAIrF,QAAQ,QAAiB,OAAS,YAChD0Z,EAAc,SAAUjb,GAC1B,GAAqB,IAAjBA,EAAKkb,QAOP,MADAL,EAAQ,qBACF,IAAI/H,MAAM,eANhBiI,EACEA,EAAU/a,EAAKA,KAAKkL,OAAS,QAAUlL,EAAKA,KAAKmb,OAAO,GAE1DN,EAAQE,IAORK,EAASb,EAAY,4BAyDrBc,EAAS,QAEXA,EADErD,GAAcA,EAAWK,KAAOL,EAAWK,IAAImC,QAEH,IAA5CxC,EAAWK,IAAImC,OAAOjZ,QAAQ,SAAkB,QAAU,QAGf,IAA3CmN,EAAOqG,SAAS8C,KAAKtW,QAAQ,SAAkB,QAAU,OAU7DqV,EAAQwE,EAAQ,QAPdE,OAAQX,EACRxF,UAAWzG,EAAOwG,UAAUC,UAC5BoG,OAAO,EACPC,aAAc,KACdH,OAAQA,EACRzR,YAAaoO,EAAWpO,aAtET,SAAU5J,GACzB,GAAiB,KAAbA,EAAKuS,MAA+B,GAAhBvS,EAAKkb,QAAc,CAEzC,IAAIO,EAAe7D,EAAe,YAAa5X,EAAKA,MAOpD,GALIyb,IACF1a,EAAMkX,IAAIwD,aAAeA,GAE3BV,GAAW/a,EAAKA,MAEuB,IAAnCA,EAAKA,KAAKuB,QAAQ,YAAoB,CAGxC,GAAKqW,EAAe,QAAS5X,EAAKA,MAQhC+a,EAAUA,EAAQzK,QAChB,UAAYsH,EAAe,QAAS5X,EAAKA,MACzC,UACE0b,EACE9D,EAAe,QAAS5X,EAAKA,MAC7B,eAbiC,CACvC,IAAI2b,EAAc,IAAIvI,KACtB2H,EACEA,EACA,UACAY,EAAYtI,OAAO,YACnB,WAWCuE,EAAe,MAAO5X,EAAKA,MAQ9B+a,EAAUA,EAAQzK,QAChB,QAAUsH,EAAe,MAAO5X,EAAKA,MACrC,QACE0b,EAAc9D,EAAe,MAAO5X,EAAKA,MAAO,YAVhD2b,EAAc,IAAIvI,KACtB2H,EACEA,EACA,QACAY,EAAYtI,OAAO,YACnB,YASCuE,EAAe,SAAU5X,EAAKA,QACjC+a,EAAUA,EAAQzK,QAAQ,SAAU,YAGxCsG,EAAQoE,EAAS,MAAO,GAAIC,QAE5BJ,EAAQ,4BAxEZA,EAAQF,GAoGRiB,CAAkBf,EAASC,EAAQH,MAYvC,OAhBc3C,EAAWpR,IAAIqI,MAAM,KAO3B4M,IAAI,SAAUxS,GACpBoR,EAAgB/H,KAAKgI,EAAerR,MAEXuR,EAAAhM,EAAQkN,IAAIrB,GACpCtY,KAAK,SAAU4Z,GACdhb,EAAMkX,IAAIC,QAAU6D,EACpBhb,EAAMkX,IAAIG,cAAgB2D,EAAO,KAElC3Z,MAAM,cAGT,GAAKjC,KAAK8X,IAAIG,cAKd,GAAK,eAAezI,KAAKxP,KAAK8X,IAAIG,eAE3B,CAEL,IAAK,eAAezI,KAAKxP,KAAK8X,IAAIG,eAChC,MAAM,IAAItF,MAAM,2BACX,IAAiD,IAA7C3S,KAAK8X,IAAIG,cAAc7W,QAAQ,SACxC,MAAM,IAAIuR,MAAM,iBACX,IAAK,2BAA2BnD,KAAKxP,KAAK8X,IAAIG,eACnD,MAAM,IAAItF,MAAM,uBACX,GACL,uDAAuDnD,KACrDxP,KAAK8X,IAAIG,eAGX,MAAM,IAAItF,MAAM,oBACX,IAEF,IADH3S,KAAK8X,IAAIG,cAAc4D,OAAO,kCAE7B,oCAAoCrM,KAAKxP,KAAK8X,IAAIG,eAEnD,MAAM,IAAItF,MAAM,cACX,IAEF,IADH3S,KAAK8X,IAAIG,cAAc4D,OAAO,kCAE7B,4BAA4BrM,KAAKxP,KAAK8X,IAAIG,eAE3C,MAAM,IAAItF,MAAM,iBAGhB,IAAI9K,EAAO7H,KACXqW,EAAM3B,EAAQ,WACZ,IAAIoH,GACFX,OAAQtT,EAAKiQ,IAAIG,cACjBjD,UAAWzG,EAAOwG,UAAUC,UAC5BoG,SAAOW,QAASA,MAAMC,gBAAgBD,MAAMC,cAC5CX,aAAc,kBACdH,SAAU3M,EAAOqG,SAASC,SAASzT,QAAQ,KAAO,IAGpDmU,GACE4F,OAAQtT,EAAKiQ,IAAIG,cACjBjD,UAAWzG,EAAOwG,UAAUC,UAC5BoG,SAAOW,QAASA,MAAMC,gBAAgBD,MAAMC,cAC5CX,aAAc,kBACdH,SAAU3M,EAAOqG,SAASC,SAASzT,QAAQ,KAAO,GAClD+U,WAAY,WAGdtO,EAAKuR,IAAI,2CACTvR,EAAKuR,IAAI,kBAAoB0C,EAAKX,QAClCtT,EAAKuR,IAAI,2CACTvR,EAAKuR,IAAI,qBAAuB0C,EAAK9G,WACrCnN,EAAKuR,IAAI,2CACTvR,EAAKuR,IAAI,iBAAmB0C,EAAKV,OACjCvT,EAAKuR,IAAI,2CACTvR,EAAKuR,IAAI,wBAA0B0C,EAAKT,cACxCxT,EAAKuR,IAAI,2CACTvR,EAAKuR,IAAI,kBAAoB0C,EAAKZ,QAClCrT,EAAKuR,IAAI,2CAeT3C,EAba2D,EAAY,4BAaT,OAAQ0B,EAZP,SAAUjc,GACzB,GAAiB,KAAbA,EAAKuS,KAQP,MAFA6J,QAAQ7C,IAAI,cACZvR,EAAKuR,IAAI,WAAa8C,IAAerc,IAC/B,IAAI8S,MAAM9S,EAAKsc,KAPrBtU,EAAKuR,IAAI,YAAcvZ,EAAKA,MAC5BgI,EAAKrB,MAAMmD,IAAM9J,EAAKA,KACtBgI,EAAKrB,MAAMoS,OACX/Q,EAAKuU,QAAQvc,EAAKA,eAlE1BG,KAAKoc,QAAQpc,KAAK8X,IAAIG,oBALtBjY,KAAKoZ,IAAI,eAoFb,SAASmC,EAAec,EAAMC,GAW5B,GADU,uBACF9M,KAAK6M,GAEX,OAAOA,EACF,GAAI,cAAc7M,KAAK6M,GAAO,CACnC,IAAIE,EAAQ,GAAK,GAAKF,EAAKpS,QACvBuS,EAAMF,EAAYrS,OAClBwS,EAAeJ,EAAOC,EAAYI,UAAUH,EAAOC,GACvD,OAAOC,EAAa/D,MAAM,EAAG,GAAK,IAAM+D,EAAa/D,MAAM,GAAK,IAEhE,MAAM,IAAI/F,MAAM,kBAMtBrJ,EAAWsI,UAAUwK,QAAU,SAAUvE,GAIvC,GAHA7X,KAAKoZ,IAAI,mBACTpZ,KAAKoZ,IAAIvB,GAGPA,GACsB,iBAAtB,IAAOA,EAAP,YAAAxG,IAAOwG,KACPA,EAAWnO,iBAWN,CACL1J,KAAK8X,IAAIG,cAAgBJ,EACzB,IAAI8E,EAAK3c,KAET,GAAI,SAASwP,KAAKqI,GAIhB,GAAI/C,GAAYQ,EACdtV,KAAKoZ,IAAI,aACTpZ,KAAKwG,MAAMmG,MAAMiQ,MAAQ5c,KAAK8X,IAAIpV,OACc,EAA7Cma,OAAO7c,KAAK8X,IAAI9U,MAAMmN,QAAQ,OAAQ,KAAY,GAAK,KAC1DnQ,KAAK8c,qBACA,CACL,IAAIC,GAAkD,IAAjClF,EAAWzW,QAAQ,SACpCuT,IAAYoI,EAEd1G,EAAM5B,EAAY,WAChBkI,EAAGK,iBAGL3G,EAxjBE9B,gDAwjBW,WACI0I,IAAIjB,eAEjBW,EAAGvD,IAAI,YACPuD,EAAGO,QAAQrF,KAEX8E,EAAGvD,IAAI,aACP/C,EAAM5B,EAAY,WAChBkI,EAAGK,wBAMJ,SAASxN,KAAKqI,GACnB/C,GACF9U,KAAK8X,IAAIgB,MACT9Y,KAAKoc,QAAQvE,IAEbxB,EAAM5B,EAAY,WAChBkI,EAAGK,aAAanF,KAGX,aAAarI,KAAKqI,IAmlB3B7C,EAAYD,UAAUC,WAEd5T,QAAQ,eAAiB,GAAK4T,EAAU5T,QAAQ,SAAW,EA1kBjE+b,MACE,wCALF9G,EArlBK9B,mDAqlBS,WACZoI,EAAGS,WAAWvF,KAOT,QAAQrI,KAAKxP,KAAK8X,IAAIG,gBAC/B5B,EAAM3B,EAAQ,WACZiI,EAAGvD,IAAI,cACPuD,EAAGU,YAgkBX,IACMrI,GA1jBN1L,EAAWsI,UAAUsL,QAAU,SAAUI,GACvC,IAAIX,EAAK3c,KACLud,EAAM,IAAIN,KAAMO,kBAAmB,cACvCD,EAAIE,WAAWH,GACfC,EAAIG,YAAY1d,KAAKwG,OACrB+W,EAAIna,GAAG6Z,IAAIU,OAAOC,gBAAiB,WAC7BjB,EAAG7E,IAAItO,UACTmT,EAAGnW,MAAM8R,OAEXqE,EAAGG,mBAELS,EAAIna,GAAG6Z,IAAIU,OAAOE,MAAO,SAAUC,EAAOje,GACxC,GAAIA,EAAKke,MACP,OAAQle,EAAK4E,MACX,KAAKwY,IAAIe,WAAWC,cAElBhC,QAAQ7C,IAAI,mDACZmE,EAAIW,YACJ,MACF,KAAKjB,IAAIe,WAAWG,YAClBlC,QAAQ7C,IAAI,iDACZmE,EAAIa,oBACJ,MACF,QAEEb,EAAIc,aAMZre,KAAKud,IAAMA,GAIbjU,EAAWsI,UAAUwH,IAAM,SAAU+C,GACnCnc,KAAKka,KAAK,MAAOiC,IAInB7S,EAAWsI,UAAUoL,aAAe,WAClChd,KAAKoZ,IAAI,eACT,IAAIuD,EAAK3c,KACLse,GACFhG,KAAM,WACJqE,EAAGzC,KAAK,SAEVqE,MAAO,WACL5B,EAAGzC,KAAK,UAEVsE,MAAO,WACL7B,EAAGzC,KAAK,WAGZ3L,EAAOkQ,gBAAkB,WACvB9B,EAAGvD,IAAIpO,WACPsT,EAAOtT,UAAU,KAAOsT,EAAOtT,UAAU,OAI3ChL,KAAK0e,WAAapN,SAASlC,cAAc,OACzCpP,KAAKwG,MAAMmY,WAAWC,aAAa5e,KAAK0e,WAAY1e,KAAKwG,OACzDxG,KAAKwG,MAAQxG,KAAK0e,WAClB1e,KAAK0e,WAAWnV,GAAKvJ,KAAK8X,IAAIuB,SAC9B,IAAIwF,EAAY,KAKdA,EADE,QAAQrP,KAAKxP,KAAK8X,IAAIG,gBAEtBlJ,EAAG/O,KAAK8X,IAAIG,cACZ9I,EAAG,EACHI,EAAGvP,KAAK8X,IAAItO,SAAW,EAAI,EAC3B4E,EAAGpO,KAAK8X,IAAIiB,OACZ+F,GAAI,EACJC,OAAQ,eAED,SAASvP,KAAKxP,KAAK8X,IAAIG,gBAE9BjJ,EAAG,EACHD,EA1rBQwF,uDA2rBR9F,EAAGzO,KAAK8X,IAAIG,cACZ9I,EAAG,EACH2P,GAAI,EACJvP,EAAGvP,KAAK8X,IAAItO,SAAW,EAAI,EAC3B4E,EAAGpO,KAAK8X,IAAIiB,OACZgG,OAAQ,gBAIRhQ,EAAG/O,KAAK8X,IAAIG,cACZ9I,EAAG,EACHI,EAAG,EACHwP,OAAQ,eASZ/e,KAAKgf,QAAUhf,KAAK8X,IAAIuB,SAAW,UACnC9K,EAAO0Q,SAASC,SAltBA3K,2DAotBdvU,KAAK8X,IAAIuB,SACTrZ,KAAKgf,QACLhf,KAAK8X,IAAI9U,MACThD,KAAK8X,IAAIpV,OACTmc,GAZAM,QAAS,OACTC,iBAAiB,EACjBC,kBAAmB,SACnBC,MAAO,iBAcXhW,EAAWsI,UAAUkL,eAAiB,WACpC,IAsakBtW,EACd+Y,EACAC,EACAC,EAzaA9C,EAAK3c,KACL0f,GACFC,UAAW,SAAU7V,GACnB6S,EAAGvD,IAAI,iCACPuD,EAAGzC,KAAK,YAAapQ,IAEvB8V,eAAgB,SAAU9V,GACxB6S,EAAGvD,IAAI,qCACPuD,EAAGzC,KAAK,iBAAkBpQ,IAE5B+V,eAAgB,SAAU/V,GACxB6S,EAAGvD,IAAI,yCACPuD,EAAGzC,KAAK,iBAAkBpQ,IAE5BgW,WAAY,SAAUhW,GACpB6S,EAAGvD,IAAI,qCACPuD,EAAGzC,KAAK,aAAcpQ,IAExBiW,SAAU,SAAUjW,GAClB6S,EAAGvD,IAAI,gCACPuD,EAAGzC,KAAK,WAAYpQ,IAEtBkW,QAAS,SAAUlW,GACjB6S,EAAGvD,IAAI,+BACPuD,EAAGzC,KAAK,UAAWpQ,IAErBmW,eAAgB,SAAUnW,GACxB6S,EAAGvD,IACD,8CAEFuD,EAAGzC,KAAK,iBAAkBpQ,IAE5BoW,MAAO,SAAUpW,GACf6S,EAAGvD,IAAI,4BACPuD,EAAGzC,KAAK,QAASpQ,IAEnBqW,QAAS,SAAUrW,GACjB6S,EAAGvD,IAAI,4BACPuD,EAAGzC,KAAK,UAAWpQ,IAErBsW,MAAO,SAAUtW,GACf6S,EAAGvD,IAAI,2BACPuD,EAAGzC,KAAK,QAASpQ,IAEnByU,MAAO,SAAUzU,GACf6S,EAAGvD,IAAI,yBACPuD,EAAGzC,KAAK,QAASpQ,IAEnBwO,KAAM,SAAUxO,GACd6S,EAAGvD,IAAI,6BACPuD,EAAGzC,KAAK,OAAQpQ,IAElBuW,QAAS,SAAUvW,GACjB6S,EAAGvD,IAAI,uCACPuD,EAAGzC,KAAK,UAAWpQ,IAErBwW,WAAY,SAAUxW,GACpB6S,EAAGvD,IAAI,mCACPuD,EAAGzC,KAAK,aAAcpQ,IAExByW,OAAQ,SAAUzW,GAChB6S,EAAGvD,IAAI,qCACPuD,EAAGzC,KAAK,SAAUpQ,IAEpB0W,QAAS,SAAU1W,GACjB6S,EAAGvD,IAAI,uCACPuD,EAAGzC,KAAK,UAAWpQ,IAErB2W,QAAS,SAAU3W,GACjB6S,EAAGvD,IAAI,qCACPuD,EAAGzC,KAAK,UAAWpQ,IAErB4W,QAAS,SAAU5W,GACjB6S,EAAGvD,IAAI,+BACPuD,EAAGzC,KAAK,UAAWpQ,GACf6S,EAAG7E,IAAItO,UACTmT,EAAGnW,MAAM8R,QAGbqI,WAAY,SAAU7W,GAEpB6S,EAAGzC,KAAK,aAAcpQ,IAExB8W,aAAc,SAAU9W,GACtB6S,EAAGvD,IAAI,6BACPuD,EAAGzC,KAAK,eAAgBpQ,IAE1B+W,QAAS,SAAU/W,GACjB6S,EAAGvD,IAAI,gCACPuD,EAAGzC,KAAK,UAAWpQ,IAErB0U,MAAO,SAAU1U,GACf6S,EAAGvD,IAAI,+BACPuD,EAAGzC,KAAK,QAASpQ,KAGrB,IAAK,IAAIsE,KAAKsR,EACZ1f,KAAKwG,MAAM6O,iBAAiBjH,EAAGsR,EAAMtR,IAAI,GAqUzB5H,EAlURxG,KAAKwG,MAmUX+Y,GAAe,EACfC,GAAY,EACZC,EAAe,EACnBjZ,EAAM6O,iBACJ,aACA,WACEkK,GAAe,IAEjB,GAEF/Y,EAAM6O,iBACJ,UACA,WACEoK,IACKD,GACCC,GAAgB,IAAMF,IACxB/Y,EAAMoS,OACNpS,EAAM8R,OACNiH,GAAe,EACfC,GAAY,EACZC,EAAe,KAIrB,GAEFjZ,EAAM6O,iBAAiB,UAAW,WAChCmK,GAAY,KA3VhBlW,EAAWsI,UAAUwL,WAAa,SAAU0D,GAM1C,IAAIha,EALJ9G,KAAK+gB,UAAYzP,SAASlC,cAAc,UACxCpP,KAAK+gB,UAAUpU,MAAM3J,MAAQhD,KAAK8X,IAAI9U,MACtChD,KAAK+gB,UAAUpU,MAAMjK,OAAS1C,KAAK8X,IAAIpV,OACvC1C,KAAKwG,MAAMmY,WAAWC,aAAa5e,KAAK+gB,UAAW/gB,KAAKwG,OACxDxG,KAAK+gB,UAAUxX,GAAKvJ,KAAK8X,IAAIuB,SAEzBvS,GAAUA,EAAOuX,SACnBvX,EAAOuX,UAETvX,EAAS,IAAIka,OAAOC,OAAOH,GAAaI,OAAQlhB,KAAK+gB,YACrD/gB,KAAKmhB,OAASra,GAGhBwC,EAAWsI,UAAUyL,QAAU,WAC7B,IAAItB,MAAMC,cAwBR,MADAhc,KAAKoZ,IAAI,eACH,IAAIzG,MAAM,eAvBhB,IAAI7L,EAAS9G,KAAKwG,MACAM,EAAOwL,aAAa,aAEpCxL,EAAO2L,aAAa,YAAY,GAElC,IAAI2O,EAAYrF,MAAMsF,cAElB5c,KAAM,MACNgC,IAAKzG,KAAK8X,IAAIG,cACdqJ,QAAQ,IAGRC,mBAAmB,EACnBC,iBAAkB,IAClBC,cAAc,IAIlBL,EAAUM,mBAAmB5a,GAC7Bsa,EAAUxI,OACVwI,EAAU9I,OAKZtY,KAAK2hB,IAAMP,GAGb9X,EAAWsI,UAAU0G,KAAO,SAAUvN,GAGpC,GADA/K,KAAKoZ,IAAI,OAASpZ,KAAK8X,IAAIG,eACvB1J,EAAA,SACFvO,KAAK8X,IAAItO,UAAW,EACpBxJ,KAAKgd,oBACA,GAAIhd,KAAKwG,MAEVxG,KAAKud,KAEPvd,KAAK8X,IAAItO,UAAW,EACpBxJ,KAAKud,IAAIW,YACTle,KAAKwG,MAAM8R,QACFtY,KAAKmhB,OACdnhB,KAAKmhB,OAAO7I,QAGZtY,KAAK8X,IAAItO,UAAW,EACpBxJ,KAAKwG,MAAM8R,aAER,GAAItY,KAAKmY,SAAU,KAEfyJ,EAAT,SAAwBnb,GAUtB,OATA7F,EAAMuX,SAAS0J,aAAa,IAU1BC,oBARwBrb,EACvBqI,MAAM,KAAK,GACXqB,QAAQ,QAAS,IACjBA,QAAQ,YAAa,IAMtB4R,0BAJ2B,IAA1Btb,EAAIrF,QAAQ,SAAkB,aAAe,UAC9CqF,EAAIqI,MAAM,KAAK,KAVflO,EAAQZ,KAgBP+K,QAAkC,IAAjBA,EAAOiX,MAmC3BjX,EAAOiX,MAAM9gB,QAAQ,SAAUgI,GAC7BtI,EAAMuX,SACH8J,QACCL,EAAchhB,EAAMkX,IAAIC,QAAQ7O,IAAO4Y,qBAErCI,QAASN,EAAchhB,EAAMkX,IAAIC,QAAQ7O,IACtC6Y,yBAEL7Y,GAEDlH,KACC,WACEia,QAAQ7C,IAAI,oBACRrO,GAAUA,EAAOoX,eACnBpX,EAAOoX,iBAGX,SAAUxgB,GAER,GADAsa,QAAQ7C,IAAI,kBAAmBzX,EAAIygB,QAC/BrX,GAAUA,EAAOwN,YAAa,CAChC,IAAI8J,EAAU1gB,EAAIygB,OAClBrX,EAAOwN,YAAY8J,QAvD7BzhB,EAAMkX,IAAIC,QAAQ7W,QAAQ,SAAUgI,EAAM8Y,GACxCphB,EAAMuX,SACH8J,QACCL,EAAc1Y,GAAM4Y,qBAClBI,QAASN,EAAc1Y,GAAM6Y,yBAC/BC,GAEDhgB,KACC,WACEia,QAAQ7C,IAAI,oBACRrO,GAAUA,EAAOoX,gBACnBpX,EAAOoX,gBAEPvhB,EAAMuX,SAAS0J,aAAa,KAIhC,SAAUlgB,GAER,GADAsa,QAAQ7C,IAAI,kBAAmBzX,EAAIygB,QAC/BrX,GAAUA,EAAOwN,YAAa,CAChC,IAAI+J,EAAYpL,KAAKC,MAAMvW,EAAM2hB,WAAWC,KAAK,SAC/CtZ,GAEA,OAAOA,EAAKuZ,WAAWnO,QAAQ,IAAM3S,EAAIygB,OAAOG,YAElDxX,EAAOwN,aACLwC,QAASpZ,EAAIygB,OAAOG,UACpBpG,IAAKmG,EAAYA,EAAUI,YAAc,gBAoC3DpZ,EAAWsI,UAAUyG,YAAc,SAAUR,GAC3C7X,KAAK8X,IAAIvO,GAAKsO,EAAWtO,GACzBvJ,KAAKoZ,IAAI,eACT,IAAIxY,EAAQZ,KA0EZ,OAFyB,IAAIya,EAAAhM,EAtE7B,SAAsBiM,GA4BpB,SAAS/R,EAAS9I,GAChB,GAAiB,KAAbA,EAAKuS,KAAa,CACpB,IAAK7D,EAAOoU,aACV,OAAO,EAEP,IAAIC,EAAUrU,EAAOoU,aAErBC,EAAA,UAAuB1G,IAAerc,EAAKA,MAC3Ce,EAAM2hB,UAAYK,EAAA,WAIxB,GApCAvM,EAHmBwB,EAAWnO,YAAc,6BAGxB,WAClB9I,EAAMwY,IAAI,iBAEVxY,EAAMuX,SAAW,IAAI0K,UACnBC,KAAMjL,EAAWtO,GACjBwZ,MAAO,EACPC,OAAQnL,EAAW7U,OAAS,IAC5BigB,QAASpL,EAAWnV,QAAU,IAC9BwgB,UAAW,EACXC,cAAetL,EAAWuL,YAAc,EACxCC,WAAYxL,EAAWnO,YAAc,SAEvC9I,EAAMwY,IAAI,gBACVxY,EAAMwY,IAAI,UACV,IAAIkC,EAAe1a,EAAMkX,IAAIwD,aACzBA,GACF1a,EAAMuX,SAASmL,gBAAgB,EAAGhI,GAEpCZ,EAAQ,YAkBLnM,EAAOoU,aAWL,CACL,IAAIC,EAAUrU,EAAOoU,aACLC,EAAQL,UAatB3hB,EAAM2hB,UAAYK,EAAA,UAXlBnM,EACEoB,EAAWnO,YAAc,qBACzB,OAEE6Z,SAAU,EACVlH,MAAM,IAAIpJ,MAAOsG,UACjBiK,OAAQ,oCAEV7a,QAtBJ8N,EACEoB,EAAWnO,YAAc,qBACzB,OAEE6Z,SAAU,EACVlH,MAAM,IAAIpJ,MAAOsG,UACjBiK,OAAQ,oCAEV7a,MAyBRW,EAAWsI,UAAU7H,KAAO,SAAUqE,GAIpC,GAFApO,KAAKoZ,IAAI,OAASpZ,KAAK8X,IAAIG,eAC3BjY,KAAK8X,IAAItO,UAAW,EAChB+E,EAAA,SAEFvO,KAAKwG,MAAMmD,IAAM,QAEZ,GAAI3J,KAAKwG,MACVxG,KAAKud,KAGPvd,KAAKwG,MAAM+X,QACXve,KAAKwG,MAAMmD,IAAM,GAEjB3J,KAAKud,IAAIkG,YACAzjB,KAAK2hB,KACd3hB,KAAK2hB,IAAIpD,QACTve,KAAK2hB,IAAI+B,SACT1jB,KAAK2hB,IAAIgC,qBACT3jB,KAAK2hB,IAAItD,UACTre,KAAK2hB,IAAM,MACF3hB,KAAKmhB,QACdnhB,KAAKmhB,OAAOpX,YAGT,GAAI/J,KAAKmY,SAAU,KAkCfU,EAAT,SAAsBmJ,GAIpB,IAHA,IAAI4B,EAAUtS,SAASmH,eAAe7X,EAAMkX,IAAIvO,IAAIyH,WAAW,GAC5DA,WAAWgR,GACV6B,EAASD,EAAQ5S,WACZ5C,EAAIyV,EAAO5Z,OAAS,EAAGmE,GAAK,EAAGA,IACtCwV,EAAQ/K,YAAYgL,EAAOzV,KAtC3BxN,EAAQZ,KACZ,QAAiB,IAANoO,EAET,IADA,IAAInE,EAASjK,KAAK8X,IAAIC,QAAQ9N,OACrB+X,EAAQ,EAAGA,EAAQ/X,EAAQ+X,IAClChiB,KAAKmY,SAAS2L,QAAQ9B,GAAOhgB,KAC3B,WACEpB,EAAMwY,IAAI,SAAWxY,EAAMkX,IAAIG,eAC/BgE,QAAQ7C,IAAI,iBAEd,WACExY,EAAMwY,IAAI,SAAWxY,EAAMkX,IAAIG,eAC/BgE,QAAQ7C,IAAI,iBAKhBP,EAAYmJ,QAGdhiB,KAAKmY,SAAS2L,QAAQ1V,GAAGpM,KACvB,WACEpB,EAAMwY,IAAI,SAAWxY,EAAMkX,IAAIG,eAC/BgE,QAAQ7C,IAAI,iBAEd,WACExY,EAAMwY,IAAI,SAAWxY,EAAMkX,IAAIG,eAC/BgE,QAAQ7C,IAAI,iBAKhBP,EAAYzK,KAalB9E,EAAWsI,UAAU2M,MAAQ,WAC3Bve,KAAK8X,IAAItO,UAAW,EAChB+E,EAAA,SACF0Q,SAAS8E,cAAc/jB,KAAKgf,SAASgF,aAC5BhkB,KAAKwG,MACVxG,KAAKmhB,OACPnhB,KAAKmhB,OAAO5C,QAEZve,KAAKwG,MAAM+X,QAEJve,KAAKmY,UACdnY,KAAKmY,SAAS8L,SAAS,GAAGjiB,KAAK,aAAgB,eAInDsH,EAAWsI,UAAUgH,KAAO,WACtBrK,EAAA,UAEOvO,KAAKwG,OACdxG,KAAKwG,MAAMoS,QAyEf,IAAIsL,EAEI,WACJnP,UAAUoP,aACRpP,UAAUoP,cACVpP,UAAUqP,oBACVrP,UAAUsP,iBACVtP,UAAUuP,eAEZ/V,EAAOgW,aAAehW,EAAOgW,cAAgBhW,EAAOiW,oBAQpDC,EAAW,SAAUC,GACvB,GAAIA,GAAkC,iBAArB,IAAOA,EAAP,YAAArT,IAAOqT,IACtB,MAAM,IAAI/R,MAAM,gDAElB,IA5CIgS,EA4CAC,EAAUF,EAAUnb,GACpBsb,EAAQH,EAAUnjB,MAClBujB,EAAOJ,EAAUI,KACrB,GAAuB,iBAAZF,QAA2C,IAAZA,EACxC,MAAM,IAAIjS,MAAM,uCAGlB,GADA3S,KAAK+kB,MAAQzT,SAASmH,eAAemM,IAChC5kB,KAAK+kB,MACR,MAAM,IAAIpS,MAAM,4CAElB,IAAKkS,EACH,MAAM,IAAIlS,MAAM,2CAElB,IAAKmS,EACH,MAAM,IAAInS,MAAM,oCAGlB,GADAuR,KACKnP,UAAUoP,aACb,MAAM,IAAIxR,MAAM,gBAGlB,KA/DEqS,SAFEL,EAAIpW,EAAOwG,UAAUC,WAEZ5T,QAAQ,YAAc,EACjC6jB,OAAQN,EAAEvjB,QAAQ,WAAa,EAC/B8jB,OAAQP,EAAEvjB,QAAQ,gBAAkB,EACpC+jB,MAAOR,EAAEvjB,QAAQ,UAAY,IAA6B,IAAxBujB,EAAEvjB,QAAQ,SAC5CgkB,SAAUT,EAAE1P,MAAM,yBAClBoQ,MAAOV,EAAE1P,MAAM,iCACfqQ,QAASX,EAAEvjB,QAAQ,YAAc,GAAKujB,EAAEvjB,QAAQ,QAAU,EAC1DmkB,OAAQZ,EAAEvjB,QAAQ,WAAa,EAC/BokB,KAAMb,EAAEvjB,QAAQ,SAAW,EAC3BqkB,QAAgC,GAAxBd,EAAEvjB,QAAQ,UAClBskB,OAAQf,EAAEvjB,QAAQ,mBAAqB,EACvCukB,GAAwB,OAApBhB,EAAE1P,MAAM,SACZ2Q,GACEjB,EAAEvjB,QAAQ,YAAc,GACxBujB,EAAEvjB,QAAQ,SAAW,GACrBujB,EAAEvjB,QAAQ,eAAiB,GAgDjBgkB,OACZ,MAAM,IAAIzS,MAAM,mBAIlB3S,KAAKgY,YACL,IAAIpX,EAAQZ,KACZA,KAAK6lB,UACL7lB,KAAK8lB,aAAU7a,EAEfjL,KAAK+lB,SAAU,EACf/lB,KAAKgmB,OAAS,GACdhmB,KAAK+kB,MAAM1P,iBAAiB,QAAS,WACnCzU,EAAMmlB,SAAU,IAIlB/lB,KAAKimB,UAAY,WACf,GAAIjmB,KAAK+lB,QAAS,CAChB/lB,KAAK+lB,SAAU,EACX/lB,KAAK6lB,OAAO5b,OAASjK,KAAKgmB,SAC5BhmB,KAAK6lB,OAAS7lB,KAAK6lB,OAAOnN,MAAM,EAAG1Y,KAAKgmB,SAE1ChmB,KAAK8lB,QAAU,IAAII,gBAAgB,KAAO,GAE1C,IADA,IAAIC,EAAMnmB,KAAK6lB,OAAOO,QACfD,GACLnmB,KAAK8lB,QAAQO,OAAOF,GACpBA,EAAMnmB,KAAK6lB,OAAOO,QAEpBpmB,KAAK+kB,MAAMpb,IAAM2c,IAAIC,gBAAgBvmB,KAAK8lB,QAAQU,YAKtDxmB,KAAKuc,MAAQ,WACXvc,KAAKymB,MAAQ,sCAAwC3B,EACrD9kB,KAAK0mB,OAAS,IAAIC,UAAU3mB,KAAKymB,OACjCzmB,KAAK4mB,QAGP5mB,KAAK4mB,KAAO,WACVvQ,EAtxCM9B,0DAsxCK,WACT3T,EAAM8lB,OAAOG,OAAS,WACpBjmB,EAAMwY,IAAI,gBACV,IAAI0N,GACFrd,YAAaob,EACbC,KAAMA,GAEJiC,EAAc7K,IAAe4K,GACjClmB,EAAM8lB,OAAOlP,KAAKuP,GAClBnmB,EAAMwY,IAAI,oBACVxY,EAAMomB,eAERpmB,EAAM8lB,OAAOO,QAAU,WACrBrmB,EAAMwY,IAAI,iBAEZxY,EAAM8lB,OAAOQ,QAAU,SAAUpd,GAC/BlJ,EAAMwY,IAAI,gBAAkB8C,IAAepS,KAE7ClJ,EAAM8lB,OAAOS,UAAY,SAAUrd,GACjClJ,EAAMwY,IAAI,kBACVxY,EAAMilB,OAAOtT,KAAKzI,EAAEjK,MACpBe,EAAMqlB,aAGRrlB,EAAMmkB,MAAMtS,aAAa,YAAY,GACrC7R,EAAMmkB,MAAMzM,UAKhBtY,KAAKgnB,YAAc,WACjBjS,UAAUqS,aACPjD,cAAeY,OAAO,IACtB/iB,KAAK,SAAUqlB,GACd,IAAIC,EAAU,IAAI/C,aAChBgD,EAAaD,EAAQE,wBAAwBH,GAC7CI,EAAYH,EAAQI,sBAAsB,MAAO,EAAG,GAEtD9mB,EAAMwY,IAAI,cAAgBkO,EAAQK,YAElCF,EAAUG,eAAiB,SAAU9J,GAEnC,IAAI+J,EAAQ/J,EAAMgK,YAAYC,eAAe,GAE7CC,EAAeC,aAAcC,IAAK,SAAU/B,IAAK0B,KAGnD,IAAIG,EAAiB,IAAIG,OAAO,mBAEhCH,EAAeb,UAAY,SAAUrd,GAEnC,OAAQA,EAAEjK,KAAKqoB,KACb,IAAK,MACHtnB,EAAM8lB,OAAOlP,KAAK1N,EAAEjK,KAAKsmB,KACzBlK,QAAQ7C,IAAItP,EAAEjK,KAAKsmB,KACnBvlB,EAAMwY,IAAI,kBACV,MACF,QACExY,EAAMwY,IAAI,QAAUtP,EAAEjK,QAKxB4nB,GAAaF,IACfA,EAAWa,QAAQX,GACnBA,EAAUW,QAAQd,EAAQe,cAE5BznB,EAAMwY,IAAI,QAGVxY,EAAMmJ,KAAO,WACP0d,GAAaF,IACfA,EAAWe,aACXb,EAAUa,cAEZ1nB,EAAM8lB,OAAOrjB,QACbzC,EAAMwY,IAAI,WAGbnX,MAAM,SAAUuc,GACf,IAAIrC,EACJ,OAAQqC,EAAMpM,MAAQoM,EAAM/e,MAC1B,IAAK,wBACL,IAAK,oBACL,IAAK,kBACH0c,EAAM,YACN,MACF,IAAK,sBACL,IAAK,oBACHA,EAAM,YACN,MACF,IAAK,8BACL,IAAK,4BACHA,EAAM,WACN,MACF,QACEA,EAAM,iBAAmBqC,EAAMpM,MAAQoM,EAAM/e,MAGjDmB,EAAMwY,IAAI+C,GACVgB,MAAMhB,OAMdsI,EAAS7S,UAAUxO,GAAK,SAAU6W,EAAWnW,GAClB,iBAAdmW,GAA8C,mBAAbnW,SAGJ,IAA7B9D,KAAKgY,SAASiC,KACvBja,KAAKgY,SAASiC,OAEhBja,KAAKgY,SAASiC,GAAW1H,KAAKzO,KAIhC2gB,EAAS7S,UAAUsI,KAAO,WACxB,GAAIla,KAAKgY,SAAShN,UAAU,cAAemH,MAGzC,IAFA,IAAI6F,EAAWhY,KAAKgY,SAAShN,UAAU,IACnCmD,EAAI6J,EAAS/N,OACRmE,EAAI,EAAGA,EAAID,EAAGC,IACrB4J,EAAS5J,GAAG+L,MAAMna,KAAMmS,MAAMP,UAAU8G,MAAM7G,KAAK7G,UAAW,KAKpEyZ,EAAS7S,UAAUwH,IAAM,SAAU+C,GACjCnc,KAAKka,KAAK,MAAOiC,IAGnB,IAAI9S,GACFC,WAAYA,EACZmb,SAAUA,GAUZ,OALKjW,IACHD,EAAOlF,QAAUA,EAEjBkF,EAAOjF,WAAaA,GAEfD,GArxDe,WAAlBgI,IAAO3D,IAAiD,WAA1B2D,IAAO3D,EAAOC,SAC9CD,EAAOC,QAAUU,EAAOiD,SACpBhD,EAAQD,GAAQ,GAChB,SAAU1H,GACV,IAAKA,EAAE2K,SACL,MAAM,IAAIqB,MAAM,gDAElB,OAAOrE,EAAQ3H,IAGnB2H,EAAQD,4DCjBZ,ICPeka,GADEpmB,OAFjB,WAA0B,IAAaE,EAAbrC,KAAasC,eAAkD,OAA/DtC,KAAuCwC,MAAAD,IAAAF,GAAwB,gBAA0BwJ,IAAA,cAAAzH,YAAA,+BAAAvB,OAAoE2lB,aAAA,EAAAC,QAA7JzoB,KAA6J0oB,kBAEtK/jB,oBCYjBC,EAdyBC,EAAQ,OAcjCC,EFHArF,KAAA,WAEAC,OACA+G,IAAA,IAEA5G,KANA,WAOA,OAEA6oB,eACAC,eAAA,YACAnf,UAAA,EACAof,OAAA,EACAC,MAAA,EACAC,QAAA,OACAvF,SAAA,QACAwF,YAAA,OACAC,OAAA,EACAjR,UACAtT,KAAA,GACAkF,IAAA3J,KAAAyG,MAEAsS,OAAA,GAEAkQ,oBAAA,iBACAC,YACAC,aAAA,EACAC,iBAAA,EACAC,sBAAA,EACAC,kBAAA,MAKAC,OAEA9iB,IAAA,SAAA+iB,EAAAC,GACAD,IAEAxpB,KAAA0oB,cAAA3Q,QAAA,GAAApO,IAAA6f,MEjCEjB,GATF,EAEA,KAEA,KAEA,MAUexjB,EAAA,EAAAH,EAAiB","file":"static/js/1.120ab6ba0a79de77cea5.js","sourcesContent":["<template>\r\n  <a-drawer title=\"修改监控\"\r\n            :maskClosable=\"false\"\r\n            width=650\r\n            placement=\"right\"\r\n            :closable=\"false\"\r\n            @close=\"onClose\"\r\n            :visible=\"monitorEditVisiable\"\r\n            style=\"height: calc(100% - 55px);overflow: auto;padding-bottom: 53px;\">\r\n    <a-form :form=\"form\">\r\n      <a-form-item label='企业编号'\r\n                   v-bind=\"formItemLayout\">\r\n        <a-input readOnly\r\n                 v-decorator=\"['ownerId']\" />\r\n      </a-form-item>\r\n      <a-form-item label='类型'\r\n                   v-bind=\"formItemLayout\">\r\n        <a-radio-group v-model=\"value\">\r\n          <a-radio :value=\"1\">监控</a-radio>\r\n          <a-radio :value=\"2\">直播</a-radio>\r\n        </a-radio-group>\r\n      </a-form-item>\r\n      <a-form-item label='监控名称'\r\n                   v-bind=\"formItemLayout\">\r\n        <a-input v-decorator=\"['title',\r\n                   {rules: [\r\n                    { max: 50, message: '长度不能超过50个字符'},\r\n                    { required: true, message: '不能为空'}\r\n                  ]}]\" />\r\n      </a-form-item>\r\n      <a-form-item label='URL'\r\n                   v-bind=\"formItemLayout\">\r\n        <a-input v-decorator=\"[\r\n              'url',\r\n              {rules: [\r\n                 { max: 100, message: '长度不能超过100个字符'},\r\n                 { required: true, message: '不能为空'}\r\n              ]}]\" />\r\n      </a-form-item>\r\n      <a-form-item v-show=\"value===1\"\r\n                   label='AccessToken'\r\n                   v-bind=\"formItemLayout\">\r\n        <a-input v-decorator=\"[\r\n              'token',\r\n              {rules: [\r\n                { max: 100, message: '长度不能超过100个字符'}\r\n              ]}]\" />\r\n      </a-form-item>\r\n    </a-form>\r\n    <div class=\"drawer-bootom-button\">\r\n      <a-popconfirm title=\"确定放弃编辑？\"\r\n                    @confirm=\"onClose\"\r\n                    okText=\"确定\"\r\n                    cancelText=\"取消\">\r\n        <a-button style=\"margin-right: .8rem\">取消</a-button>\r\n      </a-popconfirm>\r\n      <a-button @click=\"handleSubmit\"\r\n                type=\"primary\"\r\n                :loading=\"loading\">提交</a-button>\r\n    </div>\r\n  </a-drawer>\r\n</template>\r\n<script>\r\nconst formItemLayout = {\r\n  labelCol: { span: 3 },\r\n  wrapperCol: { span: 18 }\r\n}\r\nexport default {\r\n  name: 'MonitorEdit',\r\n  props: {\r\n    monitorEditVisiable: {\r\n      default: false\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      loading: false,\r\n      formItemLayout,\r\n      form: this.$form.createForm(this),\r\n      videoId: '',\r\n      value: 1\r\n    }\r\n  },\r\n  methods: {\r\n    reset () {\r\n      this.loading = false\r\n      this.form.resetFields()\r\n    },\r\n    onClose () {\r\n      this.reset()\r\n      this.$emit('close')\r\n    },\r\n    setFormValues ({ ...monitor }) {\r\n      let fields = ['ownerId', 'title', 'url', 'token']\r\n      let obj = {}\r\n      this.videoId = monitor.videoId\r\n      Object.keys(monitor).forEach((key) => {\r\n        if (fields.indexOf(key) !== -1) {\r\n          this.form.getFieldDecorator(key)\r\n          obj[key] = monitor[key]\r\n          this.form.setFieldsValue(obj)\r\n        }\r\n      })\r\n      if (monitor.token) {\r\n        this.value = 1\r\n      } else {\r\n        this.value = 2\r\n      }\r\n    },\r\n    handleSubmit () {\r\n      this.form.validateFields((err, values) => {\r\n        if (!err) {\r\n          this.loading = true\r\n          let monitor = this.form.getFieldsValue()\r\n          monitor.videoId = this.videoId\r\n          if (this.value !== 1) { monitor.token = null }\r\n          this.$put('video', {\r\n            ...monitor\r\n          }).then(() => {\r\n            this.reset()\r\n            this.$emit('success')\r\n          }).catch(() => {\r\n            this.loading = false\r\n          })\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/company/MonitorEdit.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('a-drawer',{staticStyle:{\"height\":\"calc(100% - 55px)\",\"overflow\":\"auto\",\"padding-bottom\":\"53px\"},attrs:{\"title\":\"修改监控\",\"maskClosable\":false,\"width\":\"650\",\"placement\":\"right\",\"closable\":false,\"visible\":_vm.monitorEditVisiable},on:{\"close\":_vm.onClose}},[_c('a-form',{attrs:{\"form\":_vm.form}},[_c('a-form-item',_vm._b({attrs:{\"label\":\"企业编号\"}},'a-form-item',_vm.formItemLayout,false),[_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:(['ownerId']),expression:\"['ownerId']\"}],attrs:{\"readOnly\":\"\"}})],1),_vm._v(\" \"),_c('a-form-item',_vm._b({attrs:{\"label\":\"类型\"}},'a-form-item',_vm.formItemLayout,false),[_c('a-radio-group',{model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}},[_c('a-radio',{attrs:{\"value\":1}},[_vm._v(\"监控\")]),_vm._v(\" \"),_c('a-radio',{attrs:{\"value\":2}},[_vm._v(\"直播\")])],1)],1),_vm._v(\" \"),_c('a-form-item',_vm._b({attrs:{\"label\":\"监控名称\"}},'a-form-item',_vm.formItemLayout,false),[_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:(['title',\n                 {rules: [\n                  { max: 50, message: '长度不能超过50个字符'},\n                  { required: true, message: '不能为空'}\n                ]}]),expression:\"['title',\\n                 {rules: [\\n                  { max: 50, message: '长度不能超过50个字符'},\\n                  { required: true, message: '不能为空'}\\n                ]}]\"}]})],1),_vm._v(\" \"),_c('a-form-item',_vm._b({attrs:{\"label\":\"URL\"}},'a-form-item',_vm.formItemLayout,false),[_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:([\n            'url',\n            {rules: [\n               { max: 100, message: '长度不能超过100个字符'},\n               { required: true, message: '不能为空'}\n            ]}]),expression:\"[\\n            'url',\\n            {rules: [\\n               { max: 100, message: '长度不能超过100个字符'},\\n               { required: true, message: '不能为空'}\\n            ]}]\"}]})],1),_vm._v(\" \"),_c('a-form-item',_vm._b({directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.value===1),expression:\"value===1\"}],attrs:{\"label\":\"AccessToken\"}},'a-form-item',_vm.formItemLayout,false),[_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:([\n            'token',\n            {rules: [\n              { max: 100, message: '长度不能超过100个字符'}\n            ]}]),expression:\"[\\n            'token',\\n            {rules: [\\n              { max: 100, message: '长度不能超过100个字符'}\\n            ]}]\"}]})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"drawer-bootom-button\"},[_c('a-popconfirm',{attrs:{\"title\":\"确定放弃编辑？\",\"okText\":\"确定\",\"cancelText\":\"取消\"},on:{\"confirm\":_vm.onClose}},[_c('a-button',{staticStyle:{\"margin-right\":\".8rem\"}},[_vm._v(\"取消\")])],1),_vm._v(\" \"),_c('a-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.loading},on:{\"click\":_vm.handleSubmit}},[_vm._v(\"提交\")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-8cbecdd0\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/views/company/MonitorEdit.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./MonitorEdit.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./MonitorEdit.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-8cbecdd0\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./MonitorEdit.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/company/MonitorEdit.vue\n// module id = null\n// module chunks = ","<template>\r\n  <a-card :bordered=\"false\"\r\n          class=\"card-area\">\r\n    <div>\r\n      <div class=\"operator\">\r\n        <a-button type=\"primary\"\r\n                  ghost\r\n                  @click=\"addMonitor\">新增</a-button>\r\n        <a-button v-hasPermission=\"'video:delete'\"\r\n                  type=\"primary\"\r\n                  ghost\r\n                  @click=\"videoDelete\">删除</a-button>\r\n        <!-- <a-button v-hasPermission=\"'video:delete'\"\r\n                  type=\"primary\"\r\n                  ghost\r\n                  @click=\"view\">查看</a-button> -->\r\n      </div>\r\n      <!-- 表格区域 -->\r\n      <a-table ref=\"TableInfo\"\r\n               :columns=\"columns\"\r\n               :dataSource=\"dataSource\"\r\n               rowKey=\"videoId\"\r\n               :pagination=\"pagination\"\r\n               :loading=\"loading\"\r\n               :scroll=\"{ x: 900 }\"\r\n               :rowSelection=\"rowSelection\"\r\n               @change=\"handleTableChange\">\r\n        <template slot=\"operation\"\r\n                  slot-scope=\"text, record\">\r\n          <a-icon type=\"edit\"\r\n                  theme=\"twoTone\"\r\n                  twoToneColor=\"#faad14\"\r\n                  @click=\"eidtMonitor(record)\"\r\n                  title=\"修改\"></a-icon>\r\n          <a-icon type=\"eye\"\r\n                  theme=\"twoTone\"\r\n                  twoToneColor=\"#42b983\"\r\n                  @click=\"viewMonitor(record)\"\r\n                  title=\"查看\"></a-icon>\r\n        </template>\r\n      </a-table>\r\n    </div>\r\n    <a-modal :title=\"video.title\"\r\n             v-model=\"visible\"\r\n             style=\"text-align: center;\"\r\n             :width=700\r\n             :footer=\"null\"\r\n             :maskClosable=false\r\n             @cancel='handleCnacel'\r\n             okText='播放'\r\n             cancelText='关闭'>\r\n      <div id=\"playWind\"\r\n           v-show=\"isMonitor\"\r\n           v-bind:style=\"{width: w+'px', height: h+'px', display: 'inline-block'}\">\r\n      </div>\r\n      <video id=\"myPlayer\"\r\n             v-show=\"!isMonitor\"\r\n             v-bind:style=\"{width: w+'px', height: h+'px', display: 'inline-block'}\"\r\n             :src=\"video.url\"\r\n             controls\r\n             playsInline\r\n             webkit-playsinline\r\n             autoplay>\r\n      </video>\r\n    </a-modal>\r\n    <!-- 添加监控 -->\r\n    <monitor-add @success=\"handleMonitorAddSuccess\"\r\n                 @close=\"handleMonitorAddClose\"\r\n                 :monitorAddVisiable=\"monitorAddVisiable\"\r\n                 :ownerId=\"company.companyId\">\r\n    </monitor-add>\r\n    <!-- 修改监控信息 -->\r\n    <monitor-edit ref=\"monitorEdit\"\r\n                  @success=\"handleMonitorEditSuccess\"\r\n                  @close=\"handleMonitorEditClose\"\r\n                  :monitorEditVisiable=\"monitorEditVisiable\">\r\n    </monitor-edit>\r\n  </a-card>\r\n</template>\r\n\r\n<script>\r\nimport MyPlayer from '@/components/player/MyPlayer'\r\nimport MonitorAdd from './MonitorAdd'\r\nimport MonitorEdit from './MonitorEdit'\r\nimport { mapState } from 'vuex'\r\nrequire('@/utils/ezuikit.js')\r\n\r\nexport default {\r\n  name: 'Monitor',\r\n  components: { MyPlayer, MonitorAdd, MonitorEdit },\r\n  data () {\r\n    return {\r\n      current_user: this.$store.state.account.user,\r\n      advanced: false,\r\n      dataSource: [],\r\n      selectedRowKeys: [],\r\n      queryParams: {},\r\n      sortedInfo: null,\r\n      loading: false,\r\n      paginationInfo: null,\r\n      pagination: {\r\n        pageSizeOptions: ['10', '20', '30', '40', '100'],\r\n        defaultCurrent: 1,\r\n        defaultPageSize: 10,\r\n        showQuickJumper: true,\r\n        showSizeChanger: true,\r\n        showTotal: (total, range) => `显示 ${range[0]} ~ ${range[1]} 条记录，共 ${total} 条记录`\r\n      },\r\n      visible: false,\r\n      video: {\r\n        url: '',\r\n        title: ''\r\n      },\r\n      monitorAddVisiable: false,\r\n      monitorEditVisiable: false,\r\n      w: 600,\r\n      h: 400,\r\n      isMonitor: true,\r\n      monitor: null,\r\n      player: null\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      company: state => state.account.company\r\n    }),\r\n    columns () {\r\n      let { sortedInfo } = this\r\n      sortedInfo = sortedInfo || {}\r\n      return [{\r\n        title: '所属ID',\r\n        dataIndex: 'ownerId'\r\n      }, {\r\n        title: '监控名称',\r\n        dataIndex: 'title'\r\n      }, {\r\n        title: '接入地址',\r\n        dataIndex: 'url'\r\n      }, {\r\n        title: 'AccessToken',\r\n        dataIndex: 'token'\r\n      }, {\r\n        title: '创建时间',\r\n        dataIndex: 'createTime',\r\n        sorter: true,\r\n        sortOrder: sortedInfo.columnKey === 'createTime' && sortedInfo.order\r\n      }, {\r\n        title: '操作',\r\n        dataIndex: 'operation',\r\n        scopedSlots: { customRender: 'operation' },\r\n        fixed: 'right',\r\n        width: 120\r\n      }]\r\n    },\r\n    rowSelection () {\r\n      let that = this\r\n      return {\r\n        onChange: (selectedRowKeys, selectedRows) => {\r\n          that.selectedRowKeys = selectedRowKeys\r\n        },\r\n        getCheckboxProps: record => ({\r\n          props: {\r\n            disabled: record.creator !== that.current_user.username,\r\n            name: record.creator\r\n          }\r\n        })\r\n      }\r\n    }\r\n  },\r\n  mounted () {\r\n    this.fetch()\r\n  },\r\n  methods: {\r\n    addMonitor () {\r\n      this.monitorAddVisiable = true\r\n    },\r\n    handleMonitorAddClose () {\r\n      this.monitorAddVisiable = false\r\n    },\r\n    handleMonitorAddSuccess () {\r\n      this.monitorAddVisiable = false\r\n      this.$message.success('新增监控成功')\r\n      this.fetch()\r\n    },\r\n    eidtMonitor (record) {\r\n      this.monitorEditVisiable = true\r\n      this.$refs.monitorEdit.setFormValues(record)\r\n    },\r\n    handleMonitorEditClose () {\r\n      this.monitorEditVisiable = false\r\n    },\r\n    handleMonitorEditSuccess () {\r\n      this.monitorEditVisiable = false\r\n      this.$message.success('修改监控成功')\r\n      this.fetch()\r\n    },\r\n    // view () {\r\n    //   this.$router.push('/company/monitorView')\r\n    // },\r\n    viewMonitor (item) {\r\n      this.video.title = item.title\r\n      this.video.url = item.url\r\n      this.visible = true\r\n      this.stopMonitor()\r\n      this.stopPlayer()\r\n      if (item.token) {\r\n        this.isMonitor = true\r\n        // eslint-disable-next-line no-undef\r\n        this.monitor = new EZUIKit.EZUIPlayer({\r\n          id: 'playWind',\r\n          autoplay: true,\r\n          url: item.url,\r\n          accessToken: item.token,\r\n          decoderPath: '../',\r\n          width: this.w,\r\n          height: this.h\r\n        })\r\n        // setTimeout(() => {\r\n\r\n        // }, 500)\r\n      } else {\r\n        this.isMonitor = false\r\n        this.src = item.url\r\n        setTimeout(() => {\r\n          // eslint-disable-next-line no-undef\r\n          this.player = new EZUIKit.EZUIPlayer('myPlayer')\r\n        }, 500)\r\n      }\r\n    },\r\n    handleCnacel (e) {\r\n      this.stopPlayer()\r\n      this.stopMonitor()\r\n    },\r\n    stopPlayer () {\r\n      if (this.player) {\r\n        this.player.stop()\r\n        this.player = null\r\n        this.src = null\r\n      }\r\n    },\r\n    stopMonitor () {\r\n      if (this.monitor) {\r\n        this.monitor.stop()\r\n        this.monitor = null\r\n      }\r\n    },\r\n    videoDelete () {\r\n      if (!this.selectedRowKeys.length) {\r\n        this.$message.warning('请选择需要删除的记录')\r\n        return\r\n      }\r\n      let that = this\r\n      this.$confirm({\r\n        title: '确定删除所选中的记录?',\r\n        content: '当您点击确定按钮后，这些记录将会被彻底删除！',\r\n        centered: true,\r\n        onOk () {\r\n          that.$delete('video/' + that.selectedRowKeys.join(',')).then(() => {\r\n            that.$message.success('删除成功')\r\n            that.selectedRowKeys = []\r\n            that.fetch()\r\n          })\r\n        },\r\n        onCancel () {\r\n          that.selectedRowKeys = []\r\n        }\r\n      })\r\n    },\r\n    reset () {\r\n      // 取消选中\r\n      this.selectedRowKeys = []\r\n      // 重置列排序规则\r\n      this.sortedInfo = null\r\n      // 重置查询参数\r\n      this.queryParams = {}\r\n      this.fetch()\r\n    },\r\n    handleTableChange (pagination, filters, sorter) {\r\n      // 将这三个参数赋值给Vue data，用于后续使用\r\n      this.paginationInfo = pagination\r\n      this.filteredInfo = filters\r\n      this.sortedInfo = sorter\r\n\r\n      this.fetch({\r\n        sortField: sorter.field,\r\n        sortOrder: sorter.order,\r\n        ...this.queryParams,\r\n        ...filters\r\n      })\r\n    },\r\n    fetch (params = {}) {\r\n      this.loading = true\r\n      params.creator = this.current_user.username\r\n      if (this.paginationInfo) {\r\n        // 如果分页信息不为空，则设置表格当前第几页，每页条数，并设置查询分页参数\r\n        this.$refs.TableInfo.pagination.current = this.paginationInfo.current\r\n        this.$refs.TableInfo.pagination.pageSize = this.paginationInfo.pageSize\r\n        params.pageSize = this.paginationInfo.pageSize\r\n        params.pageNum = this.paginationInfo.current\r\n      } else {\r\n        // 如果分页信息为空，则设置为默认值\r\n        params.pageSize = this.pagination.defaultPageSize\r\n        params.pageNum = this.pagination.defaultCurrent\r\n      }\r\n      this.$get('video', {\r\n        ...params,\r\n        classify: 1\r\n      }).then((r) => {\r\n        let data = r.data\r\n        this.dataSource = data.rows\r\n        const pagination = { ...this.pagination }\r\n        pagination.total = data.total\r\n        this.pagination = pagination\r\n        this.loading = false\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n@import \"../../../static/less/Common\";\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/company/Monitor.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('a-card',{staticClass:\"card-area\",attrs:{\"bordered\":false}},[_c('div',[_c('div',{staticClass:\"operator\"},[_c('a-button',{attrs:{\"type\":\"primary\",\"ghost\":\"\"},on:{\"click\":_vm.addMonitor}},[_vm._v(\"新增\")]),_vm._v(\" \"),_c('a-button',{directives:[{name:\"hasPermission\",rawName:\"v-hasPermission\",value:('video:delete'),expression:\"'video:delete'\"}],attrs:{\"type\":\"primary\",\"ghost\":\"\"},on:{\"click\":_vm.videoDelete}},[_vm._v(\"删除\")])],1),_vm._v(\" \"),_c('a-table',{ref:\"TableInfo\",attrs:{\"columns\":_vm.columns,\"dataSource\":_vm.dataSource,\"rowKey\":\"videoId\",\"pagination\":_vm.pagination,\"loading\":_vm.loading,\"scroll\":{ x: 900 },\"rowSelection\":_vm.rowSelection},on:{\"change\":_vm.handleTableChange},scopedSlots:_vm._u([{key:\"operation\",fn:function(text, record){return [_c('a-icon',{attrs:{\"type\":\"edit\",\"theme\":\"twoTone\",\"twoToneColor\":\"#faad14\",\"title\":\"修改\"},on:{\"click\":function($event){_vm.eidtMonitor(record)}}}),_vm._v(\" \"),_c('a-icon',{attrs:{\"type\":\"eye\",\"theme\":\"twoTone\",\"twoToneColor\":\"#42b983\",\"title\":\"查看\"},on:{\"click\":function($event){_vm.viewMonitor(record)}}})]}}])})],1),_vm._v(\" \"),_c('a-modal',{staticStyle:{\"text-align\":\"center\"},attrs:{\"title\":_vm.video.title,\"width\":700,\"footer\":null,\"maskClosable\":false,\"okText\":\"播放\",\"cancelText\":\"关闭\"},on:{\"cancel\":_vm.handleCnacel},model:{value:(_vm.visible),callback:function ($$v) {_vm.visible=$$v},expression:\"visible\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isMonitor),expression:\"isMonitor\"}],style:({width: _vm.w+'px', height: _vm.h+'px', display: 'inline-block'}),attrs:{\"id\":\"playWind\"}}),_vm._v(\" \"),_c('video',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isMonitor),expression:\"!isMonitor\"}],style:({width: _vm.w+'px', height: _vm.h+'px', display: 'inline-block'}),attrs:{\"id\":\"myPlayer\",\"src\":_vm.video.url,\"controls\":\"\",\"playsInline\":\"\",\"webkit-playsinline\":\"\",\"autoplay\":\"\"}})]),_vm._v(\" \"),_c('monitor-add',{attrs:{\"monitorAddVisiable\":_vm.monitorAddVisiable,\"ownerId\":_vm.company.companyId},on:{\"success\":_vm.handleMonitorAddSuccess,\"close\":_vm.handleMonitorAddClose}}),_vm._v(\" \"),_c('monitor-edit',{ref:\"monitorEdit\",attrs:{\"monitorEditVisiable\":_vm.monitorEditVisiable},on:{\"success\":_vm.handleMonitorEditSuccess,\"close\":_vm.handleMonitorEditClose}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-79744118\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/views/company/Monitor.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-79744118\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./Monitor.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./Monitor.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./Monitor.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-79744118\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./Monitor.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-79744118\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/company/Monitor.vue\n// module id = null\n// module chunks = ","<template>\r\n  <a-drawer title=\"新增监控\"\r\n            :maskClosable=\"false\"\r\n            width=650\r\n            placement=\"right\"\r\n            :closable=\"false\"\r\n            @close=\"onClose\"\r\n            :visible=\"monitorAddVisiable\"\r\n            style=\"height: calc(100% - 55px);overflow: auto;padding-bottom: 53px;\">\r\n    <a-form :form=\"form\">\r\n      <a-form-item label='企业编号'\r\n                   v-bind=\"formItemLayout\">\r\n        <a-input readOnly\r\n                 v-decorator=\"['ownerId',\r\n                   {initialValue: ownerId,\r\n                     rules: [\r\n                    { required: true, message: '不能为空'}\r\n                  ]}]\" />\r\n      </a-form-item>\r\n      <a-form-item label='类型'\r\n                   v-bind=\"formItemLayout\">\r\n        <a-radio-group v-model=\"value\">\r\n          <a-radio :value=\"1\">监控</a-radio>\r\n          <a-radio :value=\"2\">直播</a-radio>\r\n        </a-radio-group>\r\n      </a-form-item>\r\n      <a-form-item label='监控名称'\r\n                   v-bind=\"formItemLayout\">\r\n        <a-input v-decorator=\"['title',\r\n                   {rules: [\r\n                    { max: 50, message: '长度不能超过50个字符'},\r\n                    { required: true, message: '不能为空'}\r\n                  ]}]\" />\r\n      </a-form-item>\r\n      <a-form-item label='URL'\r\n                   v-bind=\"formItemLayout\">\r\n        <a-input v-decorator=\"[\r\n              'url',\r\n              {rules: [\r\n                 { max: 100, message: '长度不能超过100个字符'},\r\n                 { required: true, message: '不能为空'}\r\n              ]}]\" />\r\n      </a-form-item>\r\n      <a-form-item v-show=\"value===1\"\r\n                   label='AccessToken'\r\n                   v-bind=\"formItemLayout\">\r\n        <a-input v-decorator=\"[\r\n              'token',\r\n              {rules: [\r\n                { max: 100, message: '长度不能超过100个字符'}\r\n              ]}]\" />\r\n      </a-form-item>\r\n    </a-form>\r\n    <div class=\"drawer-bootom-button\">\r\n      <a-popconfirm title=\"确定放弃编辑？\"\r\n                    @confirm=\"onClose\"\r\n                    okText=\"确定\"\r\n                    cancelText=\"取消\">\r\n        <a-button style=\"margin-right: .8rem\">取消</a-button>\r\n      </a-popconfirm>\r\n      <a-button @click=\"handleSubmit\"\r\n                type=\"primary\"\r\n                :loading=\"loading\">提交</a-button>\r\n    </div>\r\n  </a-drawer>\r\n</template>\r\n<script>\r\nconst formItemLayout = {\r\n  labelCol: { span: 3 },\r\n  wrapperCol: { span: 18 }\r\n}\r\nexport default {\r\n  name: 'MonitorAdd',\r\n  props: {\r\n    monitorAddVisiable: {\r\n      default: false\r\n    },\r\n    ownerId: {}\r\n  },\r\n  data () {\r\n    return {\r\n      loading: false,\r\n      formItemLayout,\r\n      form: this.$form.createForm(this),\r\n      value: 1\r\n    }\r\n  },\r\n  methods: {\r\n    onDateChange (value, str) {\r\n      this.produceDate = str\r\n    },\r\n    reset () {\r\n      this.loading = false\r\n      this.form.resetFields()\r\n    },\r\n    onClose () {\r\n      this.reset()\r\n      this.$emit('close')\r\n    },\r\n    handleSubmit () {\r\n      this.form.validateFields((err, values) => {\r\n        if (!err) {\r\n          values.produceDate = this.produceDate\r\n          this.loading = true\r\n          if (this.value !== 1) { values.token = null }\r\n          const formData = {}\r\n          Object.keys(values).forEach((key) => {\r\n            if (values[key]) {\r\n              formData[key] = values[key]\r\n            }\r\n          })\r\n          this.$post('video/monitor', formData).then(() => {\r\n            this.reset()\r\n            this.$emit('success')\r\n          }).catch(() => {\r\n            this.loading = false\r\n          })\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/company/MonitorAdd.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('a-drawer',{staticStyle:{\"height\":\"calc(100% - 55px)\",\"overflow\":\"auto\",\"padding-bottom\":\"53px\"},attrs:{\"title\":\"新增监控\",\"maskClosable\":false,\"width\":\"650\",\"placement\":\"right\",\"closable\":false,\"visible\":_vm.monitorAddVisiable},on:{\"close\":_vm.onClose}},[_c('a-form',{attrs:{\"form\":_vm.form}},[_c('a-form-item',_vm._b({attrs:{\"label\":\"企业编号\"}},'a-form-item',_vm.formItemLayout,false),[_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:(['ownerId',\n                 {initialValue: _vm.ownerId,\n                   rules: [\n                  { required: true, message: '不能为空'}\n                ]}]),expression:\"['ownerId',\\n                 {initialValue: ownerId,\\n                   rules: [\\n                  { required: true, message: '不能为空'}\\n                ]}]\"}],attrs:{\"readOnly\":\"\"}})],1),_vm._v(\" \"),_c('a-form-item',_vm._b({attrs:{\"label\":\"类型\"}},'a-form-item',_vm.formItemLayout,false),[_c('a-radio-group',{model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}},[_c('a-radio',{attrs:{\"value\":1}},[_vm._v(\"监控\")]),_vm._v(\" \"),_c('a-radio',{attrs:{\"value\":2}},[_vm._v(\"直播\")])],1)],1),_vm._v(\" \"),_c('a-form-item',_vm._b({attrs:{\"label\":\"监控名称\"}},'a-form-item',_vm.formItemLayout,false),[_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:(['title',\n                 {rules: [\n                  { max: 50, message: '长度不能超过50个字符'},\n                  { required: true, message: '不能为空'}\n                ]}]),expression:\"['title',\\n                 {rules: [\\n                  { max: 50, message: '长度不能超过50个字符'},\\n                  { required: true, message: '不能为空'}\\n                ]}]\"}]})],1),_vm._v(\" \"),_c('a-form-item',_vm._b({attrs:{\"label\":\"URL\"}},'a-form-item',_vm.formItemLayout,false),[_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:([\n            'url',\n            {rules: [\n               { max: 100, message: '长度不能超过100个字符'},\n               { required: true, message: '不能为空'}\n            ]}]),expression:\"[\\n            'url',\\n            {rules: [\\n               { max: 100, message: '长度不能超过100个字符'},\\n               { required: true, message: '不能为空'}\\n            ]}]\"}]})],1),_vm._v(\" \"),_c('a-form-item',_vm._b({directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.value===1),expression:\"value===1\"}],attrs:{\"label\":\"AccessToken\"}},'a-form-item',_vm.formItemLayout,false),[_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:([\n            'token',\n            {rules: [\n              { max: 100, message: '长度不能超过100个字符'}\n            ]}]),expression:\"[\\n            'token',\\n            {rules: [\\n              { max: 100, message: '长度不能超过100个字符'}\\n            ]}]\"}]})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"drawer-bootom-button\"},[_c('a-popconfirm',{attrs:{\"title\":\"确定放弃编辑？\",\"okText\":\"确定\",\"cancelText\":\"取消\"},on:{\"confirm\":_vm.onClose}},[_c('a-button',{staticStyle:{\"margin-right\":\".8rem\"}},[_vm._v(\"取消\")])],1),_vm._v(\" \"),_c('a-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.loading},on:{\"click\":_vm.handleSubmit}},[_vm._v(\"提交\")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-475f5a1c\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/views/company/MonitorAdd.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./MonitorAdd.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./MonitorAdd.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-475f5a1c\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./MonitorAdd.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/company/MonitorAdd.vue\n// module id = null\n// module chunks = ","module.exports = function(originalModule) {\r\n\tif(!originalModule.webpackPolyfill) {\r\n\t\tvar module = Object.create(originalModule);\r\n\t\t// module.parent = undefined by default\r\n\t\tif(!module.children) module.children = [];\r\n\t\tObject.defineProperty(module, \"loaded\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.l;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"id\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.i;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"exports\", {\r\n\t\t\tenumerable: true,\r\n\t\t});\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/harmony-module.js\n// module id = VC+f\n// module chunks = 1 14","/* eslint-disable no-inner-declarations */\r\n/* eslint-disable no-undef */\r\n/* eslint-disable no-redeclare */\r\n/* eslint-disable camelcase */\r\n/* eslint-disable no-extend-native */\r\n/* eslint-disable new-cap */\r\n/* eslint-disable eqeqeq */\r\n/* eslint-disable no-new-func */\r\n/* eslint-disable no-unused-expressions */\r\n/* eslint-disable no-sequences */\r\n/* eslint-disable one-var */\r\n/**\r\n * jssdk 2.4.1\r\n */\r\n;(function (global, factory) {\r\n  'use strict'\r\n\r\n  if (typeof module === 'object' && typeof module.exports === 'object') {\r\n    module.exports = global.document\r\n      ? factory(global, true)\r\n      : function (w) {\r\n        if (!w.document) {\r\n          throw new Error('EZUIPlayer requires a window with a document')\r\n        }\r\n        return factory(w)\r\n      }\r\n  } else {\r\n    factory(global)\r\n  }\r\n\r\n  // Pass this if window is not defined yet\r\n})(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\r\n  /**\r\n   * @preserve HTML5 Shiv 3.7.3 | @afarkas @jdalton @jon_neal @rem | MIT/GPL2 Licensed\r\n   */\r\n  !(function (a, b) {\r\n    function c (a, b) {\r\n      var c = a.createElement('p'),\r\n        d = a.getElementsByTagName('head')[0] || a.documentElement\r\n      return (\r\n        (c.innerHTML = 'x<style>' + b + '</style>'),\r\n        d.insertBefore(c.lastChild, d.firstChild)\r\n      )\r\n    }\r\n    function d () {\r\n      var a = t.elements\r\n      return typeof a === 'string' ? a.split(' ') : a\r\n    }\r\n    function e (a, b) {\r\n      var c = t.elements\r\n      typeof c !== 'string' && (c = c.join(' ')),\r\n      typeof a !== 'string' && (a = a.join(' ')),\r\n      (t.elements = c + ' ' + a),\r\n      j(b)\r\n    }\r\n    function f (a) {\r\n      var b = s[a[q]]\r\n      return b || ((b = {}), r++, (a[q] = r), (s[r] = b)), b\r\n    }\r\n    function g (a, c, d) {\r\n      if ((c || (c = b), l)) return c.createElement(a)\r\n      d || (d = f(c))\r\n      var e\r\n      return (\r\n        (e = d.cache[a]\r\n          ? d.cache[a].cloneNode()\r\n          : p.test(a)\r\n            ? (d.cache[a] = d.createElem(a)).cloneNode()\r\n            : d.createElem(a)),\r\n        !e.canHaveChildren || o.test(a) || e.tagUrn ? e : d.frag.appendChild(e)\r\n      )\r\n    }\r\n    function h (a, c) {\r\n      if ((a || (a = b), l)) return a.createDocumentFragment()\r\n      c = c || f(a)\r\n      for (\r\n        var e = c.frag.cloneNode(), g = 0, h = d(), i = h.length;\r\n        i > g;\r\n        g++\r\n      ) {\r\n        e.createElement(h[g])\r\n      }\r\n      return e\r\n    }\r\n    function i (a, b) {\r\n      b.cache ||\r\n        ((b.cache = {}),\r\n        (b.createElem = a.createElement),\r\n        (b.createFrag = a.createDocumentFragment),\r\n        (b.frag = b.createFrag())),\r\n      (a.createElement = function (c) {\r\n        return t.shivMethods ? g(c, a, b) : b.createElem(c)\r\n      }),\r\n      (a.createDocumentFragment = Function(\r\n        'h,f',\r\n        'return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&(' +\r\n            d()\r\n              .join()\r\n              .replace(/[\\w\\-:]+/g, function (a) {\r\n                return (\r\n                  b.createElem(a), b.frag.createElement(a), 'c(\"' + a + '\")'\r\n                )\r\n              }) +\r\n            ');return n}'\r\n      )(t, b.frag))\r\n    }\r\n    function j (a) {\r\n      a || (a = b)\r\n      var d = f(a)\r\n      return (\r\n        !t.shivCSS ||\r\n          k ||\r\n          d.hasCSS ||\r\n          (d.hasCSS = !!c(\r\n            a,\r\n            'article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}'\r\n          )),\r\n        l || i(a, d),\r\n        a\r\n      )\r\n    }\r\n    var k,\r\n      l,\r\n      m = '3.7.3',\r\n      n = a.html5 || {},\r\n      o = /^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,\r\n      p = /^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,\r\n      q = '_html5shiv',\r\n      r = 0,\r\n      s = {}\r\n    !(function () {\r\n      try {\r\n        var a = b.createElement('a')\r\n        ;(a.innerHTML = '<xyz></xyz>'),\r\n        (k = 'hidden' in a),\r\n        (l =\r\n            a.childNodes.length == 1 ||\r\n            (function () {\r\n              b.createElement('a')\r\n              var a = b.createDocumentFragment()\r\n              return (\r\n                typeof a.cloneNode === 'undefined' ||\r\n                typeof a.createDocumentFragment === 'undefined' ||\r\n                typeof a.createElement === 'undefined'\r\n              )\r\n            })())\r\n      } catch (c) {\r\n        ;(k = !0), (l = !0)\r\n      }\r\n    })()\r\n    var t = {\r\n      elements:\r\n        n.elements ||\r\n        'abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video',\r\n      version: m,\r\n      shivCSS: n.shivCSS !== !1,\r\n      supportsUnknownElements: l,\r\n      shivMethods: n.shivMethods !== !1,\r\n      type: 'default',\r\n      shivDocument: j,\r\n      createElement: g,\r\n      createDocumentFragment: h,\r\n      addElements: e\r\n    }\r\n    ;(a.html5 = t),\r\n    j(b),\r\n    typeof module === 'object' && module.exports && (module.exports = t)\r\n  })(typeof window !== 'undefined' ? window : this, document)\r\n\r\n  /*! @source http://purl.eligrey.com/github/classList.js/blob/master/classList.js */\r\n  if ('document' in self) {\r\n    if (!('classList' in document.createElement('_'))) {\r\n      ;(function (j) {\r\n        'use strict'\r\n        if (!('Element' in j)) {\r\n          return\r\n        }\r\n        var a = 'classList',\r\n          f = 'prototype',\r\n          m = j.Element[f],\r\n          b = Object,\r\n          k =\r\n            String[f].trim ||\r\n            function () {\r\n              return this.replace(/^\\s+|\\s+$/g, '')\r\n            },\r\n          c =\r\n            Array[f].indexOf ||\r\n            function (q) {\r\n              var p = 0,\r\n                o = this.length\r\n              for (; p < o; p++) {\r\n                if (p in this && this[p] === q) {\r\n                  return p\r\n                }\r\n              }\r\n              return -1\r\n            },\r\n          n = function (o, p) {\r\n            this.name = o\r\n            this.code = DOMException[o]\r\n            this.message = p\r\n          },\r\n          g = function (p, o) {\r\n            if (o === '') {\r\n              throw new n(\r\n                'SYNTAX_ERR',\r\n                'An invalid or illegal string was specified'\r\n              )\r\n            }\r\n            if (/\\s/.test(o)) {\r\n              throw new n(\r\n                'INVALID_CHARACTER_ERR',\r\n                'String contains an invalid character'\r\n              )\r\n            }\r\n            return c.call(p, o)\r\n          },\r\n          d = function (s) {\r\n            var r = k.call(s.getAttribute('class') || ''),\r\n              q = r ? r.split(/\\s+/) : [],\r\n              p = 0,\r\n              o = q.length\r\n            for (; p < o; p++) {\r\n              this.push(q[p])\r\n            }\r\n            this._updateClassName = function () {\r\n              s.setAttribute('class', this.toString())\r\n            }\r\n          },\r\n          e = (d[f] = []),\r\n          i = function () {\r\n            return new d(this)\r\n          }\r\n        n[f] = Error[f]\r\n        e.item = function (o) {\r\n          return this[o] || null\r\n        }\r\n        e.contains = function (o) {\r\n          o += ''\r\n          return g(this, o) !== -1\r\n        }\r\n        e.add = function () {\r\n          var s = arguments,\r\n            r = 0,\r\n            p = s.length,\r\n            q,\r\n            o = false\r\n          do {\r\n            q = s[r] + ''\r\n            if (g(this, q) === -1) {\r\n              this.push(q)\r\n              o = true\r\n            }\r\n          } while (++r < p)\r\n          if (o) {\r\n            this._updateClassName()\r\n          }\r\n        }\r\n        e.remove = function () {\r\n          var t = arguments,\r\n            s = 0,\r\n            p = t.length,\r\n            r,\r\n            o = false,\r\n            q\r\n          do {\r\n            r = t[s] + ''\r\n            q = g(this, r)\r\n            while (q !== -1) {\r\n              this.splice(q, 1)\r\n              o = true\r\n              q = g(this, r)\r\n            }\r\n          } while (++s < p)\r\n          if (o) {\r\n            this._updateClassName()\r\n          }\r\n        }\r\n        e.toggle = function (p, q) {\r\n          p += ''\r\n          var o = this.contains(p),\r\n            r = o ? q !== true && 'remove' : q !== false && 'add'\r\n          if (r) {\r\n            this[r](p)\r\n          }\r\n          if (q === true || q === false) {\r\n            return q\r\n          } else {\r\n            return !o\r\n          }\r\n        }\r\n        e.toString = function () {\r\n          return this.join(' ')\r\n        }\r\n        if (b.defineProperty) {\r\n          var l = { get: i, enumerable: true, configurable: true }\r\n          try {\r\n            b.defineProperty(m, a, l)\r\n          } catch (h) {\r\n            if (h.number === -2146823252) {\r\n              l.enumerable = false\r\n              b.defineProperty(m, a, l)\r\n            }\r\n          }\r\n        } else {\r\n          if (b[f].__defineGetter__) {\r\n            m.__defineGetter__(a, i)\r\n          }\r\n        }\r\n      })(self)\r\n    } else {\r\n      ;(function () {\r\n        var b = document.createElement('_')\r\n        b.classList.add('c1', 'c2')\r\n        if (!b.classList.contains('c2')) {\r\n          var c = function (e) {\r\n            var d = DOMTokenList.prototype[e]\r\n            DOMTokenList.prototype[e] = function (h) {\r\n              var g,\r\n                f = arguments.length\r\n              for (g = 0; g < f; g++) {\r\n                h = arguments[g]\r\n                d.call(this, h)\r\n              }\r\n            }\r\n          }\r\n          c('add')\r\n          c('remove')\r\n        }\r\n        b.classList.toggle('c3', false)\r\n        if (b.classList.contains('c3')) {\r\n          var a = DOMTokenList.prototype.toggle\r\n          DOMTokenList.prototype.toggle = function (d, e) {\r\n            if (1 in arguments && !this.contains(d) === !e) {\r\n              return e\r\n            } else {\r\n              return a.call(this, d)\r\n            }\r\n          }\r\n        }\r\n        b = null\r\n      })()\r\n    }\r\n  }\r\n\r\n  Date.prototype.Format = function (fmt) {\r\n    // author: meizz\r\n    var o = {\r\n      'M+': this.getMonth() + 1, // 月份\r\n      'd+': this.getDate(), // 日\r\n      'h+': this.getHours(), // 小时\r\n      'm+': this.getMinutes(), // 分\r\n      's+': this.getSeconds(), // 秒\r\n      'q+': Math.floor((this.getMonth() + 3) / 3), // 季度\r\n      S: this.getMilliseconds() // 毫秒\r\n    }\r\n    if (/(y+)/.test(fmt)) {\r\n      fmt = fmt.replace(\r\n        RegExp.$1,\r\n        (this.getFullYear() + '').substr(4 - RegExp.$1.length)\r\n      )\r\n    }\r\n    for (var k in o) {\r\n      if (new RegExp('(' + k + ')').test(fmt)) {\r\n        fmt = fmt.replace(\r\n          RegExp.$1,\r\n          RegExp.$1.length == 1\r\n            ? o[k]\r\n            : ('00' + o[k]).substr(('' + o[k]).length)\r\n        )\r\n      }\r\n    }\r\n    return fmt\r\n  }\r\n\r\n  var Domain = 'https://open.ys7.com'\r\n  var logDomain = 'https://log.ys7.com/statistics.do'\r\n\r\n  var ckplayerJS = Domain + '/sdk/js/2.0/js/ckplayer/ckplayer.js'\r\n  var ckplayerSWF = Domain + '/sdk/js/2.0/js/ckplayer/ckplayer.swf'\r\n  var m3u8SWF = Domain + '/sdk/js/2.0/js/ckplayer/m3u8.swf'\r\n  var flv_js = Domain + '/sdk/js/2.0/js/flv.min.js'\r\n  var hlsJS = Domain + '/sdk/js/2.0/js/hls.min.js'\r\n  var mpegJS = Domain + '/sdk/js/2.0/js/jsmpeg.min.js'\r\n  var wav = Domain + '/sdk/js/2.0/js/wav-audio-encoder.js'\r\n\r\n  // 当前页面是否是https协议\r\n  var isHttps = window.location.protocol === 'https:'\r\n  // 是否为移动端\r\n  var isMobile = !!navigator.userAgent.match(\r\n    /(iPhone|iPod|iPad|Android|ios|SymbianOS)/i\r\n  )\r\n  var testVideo = document.createElement('video')\r\n  // 是否支持video标签和addEventListener方法（主要为了区别ie8）\r\n  var isModernBrowser = !!testVideo.canPlayType && !!window.addEventListener\r\n  // 是否能使用video原生播放hls，目前只有safari可以支持原生video播放。\r\n  var isNativeSupportHls =\r\n    isModernBrowser && testVideo.canPlayType('application/vnd.apple.mpegURL')\r\n  // 是否能使用hls.js播放\r\n  var isSupportHls = false\r\n\r\n  // 本地信息上报\r\n  var LOCALINFO = 'open_netstream_localinfo'\r\n  // 预览主表上报\r\n  var PLAY_MAIN = 'open_netstream_play_main'\r\n\r\n  function dclog (obj) {\r\n    var domain = window.location.protocol + '//' + window.location.host\r\n    var logObj = {\r\n      Ver: 'v.2.4.1',\r\n      PlatAddr: domain,\r\n      ExterVer: 'Ez.2.4.1',\r\n      CltType: 102,\r\n      StartTime: new Date().Format('yyyy-MM-dd hh:mm:ss.S'), // 每个日志包含当前的时间\r\n      OS: navigator.platform\r\n    }\r\n    for (var i in obj) {\r\n      logObj[i] = obj[i]\r\n    }\r\n\r\n    var tempArray = []\r\n    for (var j in logObj) {\r\n      tempArray.push(j + '=' + logObj[j])\r\n    }\r\n    var params = '?' + tempArray.join('&')\r\n    // 上报一次本地统计信息\r\n    var img = new Image()\r\n    img.src = logDomain + params\r\n  }\r\n\r\n  // 上报一次本地信息\r\n  dclog({\r\n    systemName: LOCALINFO\r\n  })\r\n\r\n  var RTMP_REG = /^rtmp/\r\n\r\n  // 获取元素样式\r\n  function getStyle (el) {\r\n    return window.getComputedStyle\r\n      ? window.getComputedStyle(el, null)\r\n      : el.currentStyle\r\n  }\r\n\r\n  // 加载js\r\n  function addJs (filepath, callback) {\r\n    var oJs = document.createElement('script')\r\n    oJs.setAttribute('src', filepath)\r\n    oJs.onload = callback\r\n    document.getElementsByTagName('head')[0].appendChild(oJs)\r\n  }\r\n  // 通用请求方法\r\n  function request (url, method, params, success) {\r\n    var _url = url\r\n    var http_request = new XMLHttpRequest()\r\n    http_request.onreadystatechange = function () {\r\n      if (http_request.readyState == 4) {\r\n        if (http_request.status == 200) {\r\n          var _data = JSON.parse(http_request.responseText)\r\n          success(_data)\r\n        }\r\n      }\r\n    }\r\n    http_request.open(method, _url, true)\r\n    // http_request.setRequestHeader(\"Content-Type\", \"application/x-www-form-urlencoded\");\r\n    var data = new FormData()\r\n    for (var i in params) {\r\n      data.append(i, params[i])\r\n    }\r\n    http_request.send(data)\r\n  }\r\n  // 获取url参数\r\n  function getQueryString (name, url) {\r\n    var r = new RegExp('(\\\\?|#|&)' + name + '=(.*?)(#|&|$)')\r\n    var m = (url || location.href).match(r)\r\n    return decodeURIComponent(m ? m[2] : '')\r\n  }\r\n  /** 判断是否为promise对象 */\r\n  function isPromise (obj) {\r\n    return (\r\n      !!obj &&\r\n      (typeof obj === 'object' || typeof obj === 'function') &&\r\n      typeof obj.then === 'function'\r\n    )\r\n  }\r\n\r\n  var EZUIPlayer = function (playParams) {\r\n    if (!isModernBrowser) {\r\n      throw new Error('不支持ie8等低版本浏览器')\r\n    }\r\n    /** 定义播放配置项 */\r\n    this.opt = {}\r\n    this.opt.sources = []\r\n    this.handlers = {}\r\n\r\n    // 修订 - 支持JS Decoder 允许非字符串配置项\r\n    if (typeof playParams === 'object' && playParams.decoderPath) {\r\n      /* 校验播放器配置参数合法性 */\r\n      // 解码器路径\r\n      if (\r\n        typeof playParams.decoderPath !== 'string' ||\r\n        typeof playParams.decoderPath === 'undefined'\r\n      ) {\r\n        throw new Error('EZUIDecoder requires the path of decoder')\r\n      }\r\n      // Id\r\n      if (\r\n        typeof playParams.id !== 'string' ||\r\n        typeof playParams.id === 'undefined'\r\n      ) {\r\n        throw new Error('EZUIDecoder requires parameter id')\r\n      }\r\n      if (\r\n        typeof playParams.url !== 'string' ||\r\n        typeof playParams.url === 'undefined'\r\n      ) {\r\n        throw new Error('EZUIDecoder requires parameter url')\r\n      }\r\n      // 将播放地址配置在实例 opt 属性中\r\n      this.opt.sources.push(playParams.url)\r\n      // JSDecoder  只有一个播放地址\r\n      this.opt.currentSource = this.opt.sources[0]\r\n\r\n      if (playParams.env) {\r\n      }\r\n\r\n      /** 创建jSPlugin 对象 */\r\n      this.jSPlugin = {}\r\n      var _this = this\r\n      /** 根据播放参数获取真实播放地址 */\r\n      var getRealUrl = this.getRealUrl(playParams)\r\n      /** 是否自动播放 */\r\n      if (isPromise(getRealUrl)) {\r\n        getRealUrl\r\n          .then(function () {\r\n            var initDecoder = _this.initDecoder(playParams)\r\n            if (isPromise(initDecoder) && playParams.autoplay !== false) {\r\n              initDecoder.then(function () {\r\n                _this.play({ handleError: playParams.handleError })\r\n              })\r\n            }\r\n          })\r\n          .catch(function () {\r\n            var initDecoder = _this.initDecoder(playParams)\r\n            if (isPromise(initDecoder) && playParams.autoplay !== false) {\r\n              initDecoder.then(function () {\r\n                // _this.play({ handleError: playParams.handleError });\r\n              })\r\n            }\r\n          })\r\n      }\r\n    } else {\r\n      var elementID = ''\r\n      if (typeof playParams === 'string') {\r\n        // 缩写模式 new EZUIPlayer('myplayer')\r\n        elementID = playParams\r\n      } else if (typeof playParams === 'object') {\r\n        // 标准模式 new EZUIPlayer({id: 'myplayer'})\r\n        elementID = playParams.id\r\n      }\r\n      this.videoId = elementID\r\n      this.video = document.getElementById(elementID)\r\n      if (!this.video) {\r\n        throw new Error('EZUIPlayer requires parameter videoId')\r\n      }\r\n      var sources = this.video.getElementsByTagName('source')\r\n      // 转为数组对象，不受removeChild影响\r\n      sources = Array.prototype.slice.call(sources, 0)\r\n\r\n      if (this.video.src) {\r\n        // 移动端删除rtmp地址\r\n        if (isMobile && RTMP_REG.test(this.video.src)) {\r\n          this.video.removeAttribute('src')\r\n          this.video.load()\r\n        } else {\r\n          this.opt.sources.push(this.video.src)\r\n        }\r\n      }\r\n\r\n      var l = sources.length\r\n      if (l > 0) {\r\n        for (var i = 0; i < l; i++) {\r\n          // 移动端删除rtmp地址\r\n          if (isMobile && RTMP_REG.test(sources[i].src)) {\r\n            this.video.removeChild(sources[i])\r\n          } else {\r\n            this.opt.sources.push(sources[i].src)\r\n          }\r\n        }\r\n      }\r\n      if (this.opt.sources.length < 1) {\r\n        throw new Error('no source found in video tag.')\r\n      }\r\n      this.opt.cur = 0\r\n      this.opt.poster = this.video.poster\r\n      var videoStyle = getStyle(this.video)\r\n      var width = this.video.width\r\n      var height = this.video.height\r\n      if (width) {\r\n        this.opt.width = width\r\n        if (height) {\r\n          this.opt.height = height\r\n        } else {\r\n          this.opt.height = 'auto'\r\n        }\r\n        this.log('video width:' + this.opt.width + ' height:' + this.opt.height)\r\n      } else {\r\n        this.opt.width = videoStyle.width\r\n        this.opt.height = videoStyle.height\r\n        this.log(\r\n          'videoStyle.width:' +\r\n            videoStyle.width +\r\n            ' wideoStyle.height:' +\r\n            videoStyle.height\r\n        )\r\n      }\r\n      this.opt.parentId = elementID\r\n      this.opt.autoplay = !!this.video.autoplay\r\n      this.log('autoplay:' + this.video.autoplay)\r\n\r\n      this.opt.currentSource = this.opt.sources[this.opt.cur]\r\n      this.getRealUrl(playParams)\r\n    }\r\n\r\n    /* 创建播放，错误，停止事件钩子，上报用户行为 */\r\n    this.handlers = {}\r\n    this.initTime = new Date().getTime()\r\n\r\n    this.on('play', function () {\r\n      // 上报播放成功信息\r\n      dclog({\r\n        systemName: PLAY_MAIN,\r\n        playurl: this.opt.currentSource,\r\n        Time: new Date().Format('yyyy-MM-dd hh:mm:ss.S'),\r\n        Enc: 0, // 0 不加密 1 加密\r\n        PlTp: 1, // 1 直播 2 回放\r\n        Via: 2, // 2 服务端取流\r\n        ErrCd: 0,\r\n        Cost: new Date().getTime() - this.initTime // 毫秒数\r\n      })\r\n    })\r\n    this.retry = 2\r\n    this.on('error', function () {\r\n      dclog({\r\n        systemName: PLAY_MAIN,\r\n        playurl: this.opt.currentSource,\r\n        cost: -1,\r\n        ErrCd: -1\r\n      })\r\n    })\r\n  }\r\n\r\n  // 事件监听\r\n  EZUIPlayer.prototype.on = function (eventName, callback) {\r\n    if (typeof eventName !== 'string' || typeof callback !== 'function') {\r\n      return\r\n    }\r\n    if (typeof this.handlers[eventName] === 'undefined') {\r\n      this.handlers[eventName] = []\r\n    }\r\n    this.handlers[eventName].push(callback)\r\n  }\r\n\r\n  // 事件触发\r\n  EZUIPlayer.prototype.emit = function () {\r\n    if (this.handlers[arguments[0]] instanceof Array) {\r\n      var handlers = this.handlers[arguments[0]]\r\n      var l = handlers.length\r\n      for (var i = 0; i < l; i++) {\r\n        handlers[i].apply(this, Array.prototype.slice.call(arguments, 1))\r\n      }\r\n    }\r\n  }\r\n\r\n  EZUIPlayer.prototype.getRealUrl = function (playParams) {\r\n    var _this = this\r\n    var apiDomain = 'https://open.ys7.com'\r\n    if (playParams && playParams.env) {\r\n      apiDomain = playParams.env.domain\r\n    }\r\n    /** jsDecoder 获取真实地址 -- 开始 */\r\n    if (playParams && playParams.decoderPath) {\r\n      var getRealUrlPromise = function (resolve, reject, ezopenURL) {\r\n        var realUrl = ''\r\n        if (!/^ezopen:\\/\\//.test(ezopenURL)) {\r\n          // JSDecoder ws协议播放\r\n          resolve(ezopenURL)\r\n        } else {\r\n          var nodeUrl =\r\n            apiDomain +\r\n            '/jssdk/ezopen/getStreamToken?accessToken=' +\r\n            playParams.accessToken +\r\n            '&num=10&type=' +\r\n            (playParams.url.indexOf('live') !== -1 ? 'live' : 'playback')\r\n          var nodeSuccess = function (data) {\r\n            if (data.retcode === 0) {\r\n              realUrl =\r\n                realUrl + data.data.params + '&ssn=' + data.data.tokens[0]\r\n              // _this.opt.currentSource = realUrl;\r\n              resolve(realUrl)\r\n            } else {\r\n              resolve('get realURL error')\r\n              throw new Error('获取播放token失败')\r\n            }\r\n          }\r\n          // 向API请求真实地址\r\n          var apiUrl = apiDomain + '/api/lapp/live/url/ezopen'\r\n          var apiSuccess = function (data) {\r\n            if (data.code == 200 || data.retcode == 0) {\r\n              // 处理验证码\r\n              var validateCode = getQueryString('checkCode', data.data)\r\n              // var validateCode = 'ZQGWMV';\r\n              if (validateCode) {\r\n                _this.opt.validateCode = validateCode\r\n              }\r\n              realUrl += data.data\r\n              /** 参数容错处理  start */\r\n              if (data.data.indexOf('playback') !== -1) {\r\n                // 回放\r\n                // 兼容各种时间格式\r\n                if (!getQueryString('begin', data.data)) {\r\n                  var defaultDate = new Date()\r\n                  realUrl =\r\n                    realUrl +\r\n                    '&begin=' +\r\n                    defaultDate.Format('yyyyMMdd') +\r\n                    'T000000Z'\r\n                } else {\r\n                  realUrl = realUrl.replace(\r\n                    '&begin=' + getQueryString('begin', data.data),\r\n                    '&begin=' +\r\n                      formatRecTime(\r\n                        getQueryString('begin', data.data),\r\n                        '000000'\r\n                      )\r\n                  )\r\n                }\r\n                if (!getQueryString('end', data.data)) {\r\n                  var defaultDate = new Date()\r\n                  realUrl =\r\n                    realUrl +\r\n                    '&end=' +\r\n                    defaultDate.Format('yyyyMMdd') +\r\n                    'T235959Z'\r\n                } else {\r\n                  realUrl = realUrl.replace(\r\n                    '&end=' + getQueryString('end', data.data),\r\n                    '&end=' +\r\n                      formatRecTime(getQueryString('end', data.data), '235959')\r\n                  )\r\n                }\r\n                // api错误处理\r\n                if (!getQueryString('stream', data.data)) {\r\n                  realUrl = realUrl.replace('stream', '&stream')\r\n                }\r\n              }\r\n              request(nodeUrl, 'GET', '', nodeSuccess)\r\n            } else {\r\n              resolve('get realURL error')\r\n              // throw new Error('获取播放设备信息失败');\r\n            }\r\n            /** 参数容错处理  end */\r\n          }\r\n          var isHttp = 'false'\r\n          if (playParams && playParams.env && playParams.env.domain) {\r\n            isHttp =\r\n              playParams.env.domain.indexOf('https') !== -1 ? 'false' : 'true'\r\n          } else {\r\n            isHttp =\r\n              window.location.href.indexOf('https') !== -1 ? 'false' : 'true'\r\n          }\r\n          var apiParams = {\r\n            ezopen: ezopenURL,\r\n            userAgent: window.navigator.userAgent,\r\n            isFlv: false,\r\n            addressTypes: null,\r\n            isHttp: isHttp,\r\n            accessToken: playParams.accessToken\r\n          }\r\n          request(apiUrl, 'POST', apiParams, apiSuccess)\r\n        }\r\n      }\r\n      var urlList = playParams.url.split(',')\r\n      var promiseTaskList = []\r\n      var promiseTaskFun = ezopenURL => {\r\n        return new Promise((resolve, reject) =>\r\n          getRealUrlPromise(resolve, reject, ezopenURL)\r\n        )\r\n      }\r\n      urlList.map(function (item) {\r\n        promiseTaskList.push(promiseTaskFun(item))\r\n      })\r\n      var getRealUrlPromiseObj = Promise.all(promiseTaskList)\r\n        .then(function (result) {\r\n          _this.opt.sources = result\r\n          _this.opt.currentSource = result[0]\r\n        })\r\n        .catch(function () {})\r\n      return getRealUrlPromiseObj\r\n    } else {\r\n      if (!this.opt.currentSource) {\r\n        this.log('未找到合适的播放URL')\r\n        return\r\n      }\r\n      // 如果不是ezopen打头的，走原来的播放模式\r\n      if (!/^ezopen:\\/\\//.test(this.opt.currentSource)) {\r\n        this.tryPlay(this.opt.currentSource)\r\n      } else {\r\n        // 如果是ezopen协议地址，先校验一下地址的合法性\r\n        if (!/^ezopen:\\/\\//.test(this.opt.currentSource)) {\r\n          throw new Error('EZOPEN地址必须要以ezopen://开头')\r\n        } else if (this.opt.currentSource.indexOf('.com/') === -1) {\r\n          throw new Error('EZOPEN地址格式不正确')\r\n        } else if (!/[a-z\\d]{32}(\\.hd)?\\.live/.test(this.opt.currentSource)) {\r\n          throw new Error('EZOPEN地址格式uuid格式不正确')\r\n        } else if (\r\n          /(.*.hls.*|.*.m3u8.*|.*.wss.*|.*.flv.*|.*.rtmp.*){2,}/.test(\r\n            this.opt.currentSource\r\n          )\r\n        ) {\r\n          throw new Error('EZOPEN地址多于两个播放协议')\r\n        } else if (\r\n          this.opt.currentSource.search(/(.hls|.m3u8|.wss|.flv|.rtmp)/) !==\r\n            -1 &&\r\n          !/.live(.hls|.m3u8|.wss|.flv|.rtmp)/.test(this.opt.currentSource)\r\n        ) {\r\n          throw new Error('请指定正确的播放协议')\r\n        } else if (\r\n          this.opt.currentSource.search(/(.hls|.m3u8|.wss|.flv|.rtmp)/) ===\r\n            -1 &&\r\n          !/[a-z\\d]{32}(\\.hd)?\\.live$/.test(this.opt.currentSource)\r\n        ) {\r\n          throw new Error('EZOPEN地址结尾不正确')\r\n        } else {\r\n          /* 获取播放地址 - 开始 */\r\n          var that = this\r\n          addJs(flv_js, function () {\r\n            var para = {\r\n              ezopen: that.opt.currentSource,\r\n              userAgent: window.navigator.userAgent,\r\n              isFlv: flvjs && flvjs.isSupported() ? flvjs.isSupported() : false,\r\n              addressTypes: 'HLS,RTMP,WS,FLV',\r\n              isHttp: !(window.location.protocol.indexOf('s') > 0)\r\n            }\r\n\r\n            dclog({\r\n              ezopen: that.opt.currentSource,\r\n              userAgent: window.navigator.userAgent,\r\n              isFlv: flvjs && flvjs.isSupported() ? flvjs.isSupported() : false,\r\n              addressTypes: 'HLS,RTMP,WS,FLV',\r\n              isHttp: !(window.location.protocol.indexOf('s') > 0),\r\n              systemName: 'EZOPEN'\r\n            })\r\n\r\n            that.log('---------------------------------------')\r\n            that.log('入参(ezopen)是：   ' + para.ezopen)\r\n            that.log('---------------------------------------')\r\n            that.log('入参(userAgent)是：   ' + para.userAgent)\r\n            that.log('---------------------------------------')\r\n            that.log('入参(isFlv)是：   ' + para.isFlv)\r\n            that.log('---------------------------------------')\r\n            that.log('入参(addressTypes)是：   ' + para.addressTypes)\r\n            that.log('---------------------------------------')\r\n            that.log('入参(isHttp)是：   ' + para.isHttp)\r\n            that.log('---------------------------------------')\r\n\r\n            var apiUrl = apiDomain + '/api/lapp/live/url/ezopen'\r\n            var apiSuccess = function (data) {\r\n              if (data.code == 200) {\r\n                that.log('播放地址是：   ' + data.data)\r\n                that.video.src = data.data\r\n                that.video.load()\r\n                that.tryPlay(data.data)\r\n              } else {\r\n                console.log('平台获取播放地址错误')\r\n                that.log('data：   ' + JSON.stringify(data))\r\n                throw new Error(data.msg)\r\n              }\r\n            }\r\n            request(apiUrl, 'POST', para, apiSuccess)\r\n          })\r\n        } /* 获取播放地址 - 结束 */\r\n      }\r\n    }\r\n    // 格式化回放时间\r\n    function formatRecTime (time, defaultTime) {\r\n      // 用户格式 无需更改 => 20182626T000000Z\r\n      // return time\r\n      // 用户格式需要更改\r\n      // 用户时间长度为 14 20181226000000  =》 20181226000000\r\n      // 用户长度为12     201812260000    =》 201812260000 + defaultTime后面2位\r\n      // 用户长度为10     2018122600      =》 201812260000 + defaultTime后面4位\r\n      // 用户长度为8     20181226         =》 201812260000 + defaultTime后面6位\r\n      // 结果 20181226000000 14位\r\n      // 插入 TZ\r\n      var reg = /^[0-9]{8}T[0-9]{6}Z$/\r\n      if (reg.test(time)) {\r\n        // 用户格式 无需更改 => 20182626T000000Z\r\n        return time\r\n      } else if (/[0-9]{8,14}/.test(time)) {\r\n        var start = 6 - (14 - time.length)\r\n        var end = defaultTime.length\r\n        var standardTime = time + defaultTime.substring(start, end)\r\n        return standardTime.slice(0, 8) + 'T' + standardTime.slice(8) + 'Z'\r\n      } else {\r\n        throw new Error('回放时间格式有误，请确认')\r\n      }\r\n    }\r\n  }\r\n\r\n  // 尝试播放\r\n  EZUIPlayer.prototype.tryPlay = function (playParams) {\r\n    this.log('开始尝试播放，播放配置参数为：')\r\n    this.log(playParams)\r\n    // JSDecoder 播放\r\n    if (\r\n      playParams &&\r\n      typeof playParams === 'object' &&\r\n      playParams.decoderPath\r\n    ) {\r\n      /** 初始化Decoder */\r\n      // this.initDecoder(playParams);\r\n      // 自动播放\r\n      // if(playParams.autoplay){\r\n      //   console.log('配置了自动播放');\r\n      //   setTimeout(function(){\r\n      //     _this.play();\r\n      //   },2000)\r\n      // }\r\n    } else {\r\n      this.opt.currentSource = playParams\r\n      var me = this\r\n      // 如果是HLS地址\r\n      if (/\\.m3u8/.test(playParams)) {\r\n        // 如果是手机浏览器环境,或者原生支持HLS播放的,直接使用video标签播放\r\n        // 否则尝试使用hls.js播放，\r\n        // 最后使用flash\r\n        if (isMobile || isNativeSupportHls) {\r\n          this.log('使用原生video')\r\n          this.video.style.heght = this.opt.height =\r\n            (Number(this.opt.width.replace(/px$/g, '')) * 9) / 16 + 'px'\r\n          this.initVideoEvent()\r\n        } else {\r\n          var isPlayUrlHttps = playParams.indexOf('https') !== -1\r\n          if (isHttps && !isPlayUrlHttps) {\r\n            // https网站，http视频源安全问题需要flash播放\r\n            addJs(ckplayerJS, function () {\r\n              me.initCKPlayer()\r\n            })\r\n          } else {\r\n            addJs(hlsJS, function () {\r\n              isSupportHls = Hls.isSupported()\r\n              if (isSupportHls) {\r\n                me.log('使用hls.js')\r\n                me.initHLS(playParams)\r\n              } else {\r\n                me.log('2 使用flash')\r\n                addJs(ckplayerJS, function () {\r\n                  me.initCKPlayer()\r\n                })\r\n              }\r\n            })\r\n          }\r\n        }\r\n      } else if (/^rtmp:/.test(playParams)) {\r\n        if (isMobile) {\r\n          this.opt.cur++\r\n          this.tryPlay(playParams)\r\n        } else {\r\n          addJs(ckplayerJS, function () {\r\n            me.initCKPlayer(playParams)\r\n          })\r\n        }\r\n      } else if (/^wss:|^ws:/.test(playParams)) {\r\n        /*\r\n         *   WS协议的JSMpeg的不支持IE11以下的版本\r\n         *   开放平台官网不支持IE8打开，所以官网上面不兼容两个人版本IE9 ，和IE10\r\n         *\r\n         * */\r\n        if (!ltIE11()) {\r\n          addJs(mpegJS, function () {\r\n            me.initJSmpeg(playParams)\r\n          })\r\n        } else {\r\n          alert(\r\n            'WS协议不支持Ie11以下的浏览器！请使用IE11，或者更高版本的浏览器'\r\n          )\r\n        }\r\n      } else if (/\\.flv/.test(this.opt.currentSource)) {\r\n        addJs(flv_js, function () {\r\n          me.log('使用flv.js播放')\r\n          me.initflv()\r\n        })\r\n      }\r\n    }\r\n  }\r\n\r\n  // 初始化hls.js\r\n  EZUIPlayer.prototype.initHLS = function (hlsURL) {\r\n    var me = this\r\n    var hls = new Hls({ defaultAudioCodec: 'mp4a.40.2' }) // 萤石设备默认使用 AAC LC 音频编码\r\n    hls.loadSource(hlsURL)\r\n    hls.attachMedia(this.video)\r\n    hls.on(Hls.Events.MANIFEST_PARSED, function () {\r\n      if (me.opt.autoplay) {\r\n        me.video.play()\r\n      }\r\n      me.initVideoEvent()\r\n    })\r\n    hls.on(Hls.Events.ERROR, function (event, data) {\r\n      if (data.fatal) {\r\n        switch (data.type) {\r\n          case Hls.ErrorTypes.NETWORK_ERROR:\r\n            // try to recover network error\r\n            console.log('fatal network error encountered, try to recover')\r\n            hls.startLoad()\r\n            break\r\n          case Hls.ErrorTypes.MEDIA_ERROR:\r\n            console.log('fatal media error encountered, try to recover')\r\n            hls.recoverMediaError()\r\n            break\r\n          default:\r\n            // cannot recover\r\n            hls.destroy()\r\n            break\r\n        }\r\n      }\r\n    })\r\n\r\n    this.hls = hls\r\n  }\r\n\r\n  // 日志\r\n  EZUIPlayer.prototype.log = function (msg) {\r\n    this.emit('log', msg)\r\n  }\r\n\r\n  // 初始化ckplayer\r\n  EZUIPlayer.prototype.initCKPlayer = function () {\r\n    this.log('ckplayer初始化')\r\n    var me = this\r\n    var events = {\r\n      play: function () {\r\n        me.emit('play')\r\n      },\r\n      pause: function () {\r\n        me.emit('pause')\r\n      },\r\n      error: function () {\r\n        me.emit('error')\r\n      }\r\n    }\r\n    window.ckplayer_status = function () {\r\n      me.log(arguments)\r\n      events[arguments[0]] && events[arguments[0]]()\r\n    }\r\n\r\n    // 新增相同id的div标签，然后删除video标签\r\n    this.videoFlash = document.createElement('DIV')\r\n    this.video.parentNode.replaceChild(this.videoFlash, this.video)\r\n    this.video = this.videoFlash\r\n    this.videoFlash.id = this.opt.parentId\r\n    var flashvars = null\r\n    // 如果rtmp服务器环境设置了视频暂停则断开链接\r\n    // 需要修改ckplayer.js  setup参数第30个值\r\n    // 在播放暂停后点击播放是否采用重新链接的方式\r\n    if (/^rtmp/.test(this.opt.currentSource)) {\r\n      flashvars = {\r\n        f: this.opt.currentSource,\r\n        c: 0,\r\n        p: this.opt.autoplay ? 1 : 0,\r\n        i: this.opt.poster,\r\n        lv: 1,\r\n        loaded: 'loadHandler'\r\n      }\r\n    } else if (/\\.m3u8/.test(this.opt.currentSource)) {\r\n      flashvars = {\r\n        s: 4, // 4-使用swf视频流插件播放\r\n        f: m3u8SWF,\r\n        a: this.opt.currentSource,\r\n        c: 0, // 0-使用ckplayer.js的配置 1-使用ckplayer.xml的配置\r\n        lv: 1, // 1-直播 0-普通方式\r\n        p: this.opt.autoplay ? 1 : 0, // 1-默认播放 0-默认暂停\r\n        i: this.opt.poster,\r\n        loaded: 'loadHandler'\r\n      }\r\n    } else {\r\n      flashvars = {\r\n        f: this.opt.currentSource,\r\n        c: 0,\r\n        p: 1,\r\n        loaded: 'loadHandler'\r\n      }\r\n    }\r\n    var params = {\r\n      bgcolor: '#FFF',\r\n      allowFullScreen: true,\r\n      allowScriptAccess: 'always',\r\n      wmode: 'transparent'\r\n    }\r\n    this.flashId = this.opt.parentId + 'flashId'\r\n    window.CKobject.embedSWF(\r\n      ckplayerSWF,\r\n      this.opt.parentId,\r\n      this.flashId,\r\n      this.opt.width,\r\n      this.opt.height,\r\n      flashvars,\r\n      params\r\n    )\r\n  }\r\n\r\n  EZUIPlayer.prototype.initVideoEvent = function () {\r\n    var me = this\r\n    var EVENT = {\r\n      loadstart: function (e) {\r\n        me.log('loadstart...当浏览器开始查找音频/视频时...')\r\n        me.emit('loadstart', e)\r\n      },\r\n      durationchange: function (e) {\r\n        me.log('durationchange...当音频/视频的时长已更改时...')\r\n        me.emit('durationchange', e)\r\n      },\r\n      loadedmetadata: function (e) {\r\n        me.log('loadedmetadata...当浏览器已加载音频/视频的元数据时...')\r\n        me.emit('loadedmetadata', e)\r\n      },\r\n      loadeddata: function (e) {\r\n        me.log('loadeddata...当浏览器已加载音频/视频的当前帧时...')\r\n        me.emit('loadeddata', e)\r\n      },\r\n      progress: function (e) {\r\n        me.log('progress...当浏览器正在下载音频/视频时...')\r\n        me.emit('progress', e)\r\n      },\r\n      canplay: function (e) {\r\n        me.log('canplay...当浏览器可以播放音频/视频时...')\r\n        me.emit('canplay', e)\r\n      },\r\n      canplaythrough: function (e) {\r\n        me.log(\r\n          'canplaythrough...当浏览器可在不因缓冲而停顿的情况下进行播放时...'\r\n        )\r\n        me.emit('canplaythrough', e)\r\n      },\r\n      abort: function (e) {\r\n        me.log('abort...当音频/视频的加载已放弃时...')\r\n        me.emit('abort', e)\r\n      },\r\n      emptied: function (e) {\r\n        me.log('emptied...当目前的播放列表为空时...')\r\n        me.emit('emptied', e)\r\n      },\r\n      ended: function (e) {\r\n        me.log('ended...当目前的播放列表已结束时...')\r\n        me.emit('ended', e)\r\n      },\r\n      pause: function (e) {\r\n        me.log('pause...当音频/视频已暂停时...')\r\n        me.emit('pause', e)\r\n      },\r\n      play: function (e) {\r\n        me.log('play...当音频/视频已开始或不再暂停时...')\r\n        me.emit('play', e)\r\n      },\r\n      playing: function (e) {\r\n        me.log('playing...当音频/视频在已因缓冲而暂停或停止后已就绪时...')\r\n        me.emit('playing', e)\r\n      },\r\n      ratechange: function (e) {\r\n        me.log('ratechange...当音频/视频的播放速度已更改时...')\r\n        me.emit('ratechange', e)\r\n      },\r\n      seeked: function (e) {\r\n        me.log('seeked...当用户已移动/跳跃到音频/视频中的新位置时...')\r\n        me.emit('seeked', e)\r\n      },\r\n      seeking: function (e) {\r\n        me.log('seeking...当用户开始移动/跳跃到音频/视频中的新位置时...')\r\n        me.emit('seeking', e)\r\n      },\r\n      stalled: function (e) {\r\n        me.log('stalled...当浏览器尝试获取媒体数据，但数据不可用时...')\r\n        me.emit('stalled', e)\r\n      },\r\n      suspend: function (e) {\r\n        me.log('suspend...当浏览器刻意不获取媒体数据时...')\r\n        me.emit('suspend', e)\r\n        if (me.opt.autoplay) {\r\n          me.video.play()\r\n        }\r\n      },\r\n      timeupdate: function (e) {\r\n        // me.log('timeupdate...当目前的播放位置已更改时...');\r\n        me.emit('timeupdate', e)\r\n      },\r\n      volumechange: function (e) {\r\n        me.log('volumechange...当音量已更改时...')\r\n        me.emit('volumechange', e)\r\n      },\r\n      waiting: function (e) {\r\n        me.log('waiting...当视频由于需要缓冲下一帧而停止...')\r\n        me.emit('waiting', e)\r\n      },\r\n      error: function (e) {\r\n        me.log('error...当在音频/视频加载期间发生错误时...')\r\n        me.emit('error', e)\r\n      }\r\n    }\r\n    for (var i in EVENT) {\r\n      this.video.addEventListener(i, EVENT[i], false)\r\n    }\r\n\r\n    ios11Hack(this.video)\r\n  }\r\n\r\n  EZUIPlayer.prototype.initJSmpeg = function (jsmpegUrl) {\r\n    this.canvasEle = document.createElement('canvas')\r\n    this.canvasEle.style.width = this.opt.width\r\n    this.canvasEle.style.height = this.opt.height\r\n    this.video.parentNode.replaceChild(this.canvasEle, this.video)\r\n    this.canvasEle.id = this.opt.parentId\r\n    var player\r\n    if (player && player.destroy) {\r\n      player.destroy()\r\n    }\r\n    player = new JSMpeg.Player(jsmpegUrl, { canvas: this.canvasEle })\r\n    this.JSmpeg = player\r\n  }\r\n\r\n  EZUIPlayer.prototype.initflv = function () {\r\n    if (flvjs.isSupported()) {\r\n      var player = this.video\r\n      var hasControls = player.getAttribute('controls')\r\n      if (!hasControls) {\r\n        player.setAttribute('controls', true)\r\n      }\r\n      var flvPlayer = flvjs.createPlayer(\r\n        {\r\n          type: 'flv',\r\n          url: this.opt.currentSource,\r\n          isLive: true\r\n        },\r\n        {\r\n          enableStashBuffer: true,\r\n          stashInitialSize: 128,\r\n          enableWorker: true\r\n        }\r\n      )\r\n\r\n      flvPlayer.attachMediaElement(player)\r\n      flvPlayer.load()\r\n      flvPlayer.play()\r\n    } else {\r\n      this.log('浏览器不支持flv播放')\r\n      throw new Error('浏览器不支持flv播放')\r\n    }\r\n    this.flv = flvPlayer\r\n  }\r\n\r\n  EZUIPlayer.prototype.play = function (params) {\r\n    // var index = params.index;\r\n    this.log('开始播放' + this.opt.currentSource)\r\n    if (window['CKobject']) {\r\n      this.opt.autoplay = true\r\n      this.initCKPlayer()\r\n    } else if (this.video) {\r\n      // video播放 包含flv, hls\r\n      if (this.hls) {\r\n        // hls开始播放依赖 this.hls\r\n        this.opt.autoplay = true\r\n        this.hls.startLoad()\r\n        this.video.play()\r\n      } else if (this.JSmpeg) {\r\n        this.JSmpeg.play()\r\n      } else {\r\n        // 其他开始播放使用原生video\r\n        this.opt.autoplay = true\r\n        this.video.play()\r\n      }\r\n    } else if (this.jSPlugin) {\r\n      var _this = this\r\n      function getPlayParams (url) {\r\n        _this.jSPlugin.JS_OpenSound(0)\r\n        // _this.jSPlugin.JS_SetVolume(0,100);\r\n        var websocketConnectUrl = url\r\n          .split('?')[0]\r\n          .replace('/live', '')\r\n          .replace('/playback', '')\r\n        var websocketStreamingParam =\r\n          (url.indexOf('/live') === -1 ? '/playback?' : '/live?') +\r\n          url.split('?')[1]\r\n        return {\r\n          websocketConnectUrl: websocketConnectUrl,\r\n          websocketStreamingParam: websocketStreamingParam\r\n        }\r\n      }\r\n      if (!params || typeof params.index === 'undefined') {\r\n        _this.opt.sources.forEach(function (item, index) {\r\n          _this.jSPlugin\r\n            .JS_Play(\r\n              getPlayParams(item).websocketConnectUrl,\r\n              { playURL: getPlayParams(item).websocketStreamingParam },\r\n              index\r\n            )\r\n            .then(\r\n              function () {\r\n                console.log('realplay success')\r\n                if (params && params.handleSuccess) {\r\n                  params.handleSuccess()\r\n                  // 默认开启声音\r\n                  _this.jSPlugin.JS_OpenSound(0)\r\n                  // _this.jSPlugin.JS_SetVolume(0,100);\r\n                }\r\n              },\r\n              function (err) {\r\n                console.log('realplay failed', err.oError)\r\n                if (params && params.handleError) {\r\n                  var errorInfo = JSON.parse(_this.errorCode).find(function (\r\n                    item\r\n                  ) {\r\n                    return item.detailCode.substr(-4) == err.oError.errorCode\r\n                  })\r\n                  params.handleError({\r\n                    retcode: err.oError.errorCode,\r\n                    msg: errorInfo ? errorInfo.description : '其他错误'\r\n                  })\r\n                }\r\n              }\r\n            )\r\n        })\r\n      } else {\r\n        params.index.forEach(function (item) {\r\n          _this.jSPlugin\r\n            .JS_Play(\r\n              getPlayParams(_this.opt.sources[item]).websocketConnectUrl,\r\n              {\r\n                playURL: getPlayParams(_this.opt.sources[item])\r\n                  .websocketStreamingParam\r\n              },\r\n              item\r\n            )\r\n            .then(\r\n              function () {\r\n                console.log('realplay success')\r\n                if (params && params.handleSuccess) {\r\n                  params.handleSuccess()\r\n                }\r\n              },\r\n              function (err) {\r\n                console.log('realplay failed', err.oError)\r\n                if (params && params.handleError) {\r\n                  var errInfo = err.oError // 包装错误码\r\n                  params.handleError(errInfo)\r\n                }\r\n              }\r\n            )\r\n        })\r\n      }\r\n    }\r\n  }\r\n  EZUIPlayer.prototype.initDecoder = function (playParams) {\r\n    this.opt.id = playParams.id\r\n    this.log('初始化解码器---开始')\r\n    var _this = this\r\n    // DOM id\r\n    function initDecoder (resolve) {\r\n      var jsPluginPath = playParams.decoderPath + '/js/jsPlugin-1.2.0_test.js'\r\n\r\n      /** 初始化解码器 */\r\n      addJs(jsPluginPath, function () {\r\n        _this.log('下载解码器完成，开始初始化')\r\n        /* decoder 属性配置 */\r\n        _this.jSPlugin = new JSPlugin({\r\n          szId: playParams.id,\r\n          iType: 1,\r\n          iWidth: playParams.width || 600,\r\n          iHeight: playParams.height || 400,\r\n          iMaxSplit: 4,\r\n          iCurrentSplit: playParams.splitBasis || 1,\r\n          szBasePath: playParams.decoderPath + '/js/'\r\n        })\r\n        _this.log('初始化解码器----完成')\r\n        _this.log('开始设置秘钥')\r\n        var validateCode = _this.opt.validateCode\r\n        if (validateCode) {\r\n          _this.jSPlugin.JS_SetSecretKey(0, validateCode)\r\n        }\r\n        resolve('200 OK')\r\n      })\r\n      /**\r\n       * 加载错误码\r\n       * 错误码维护平台 - omm管理系统\r\n       */\r\n      function success (data) {\r\n        if (data.code == 200) {\r\n          if (!window.localStorage) {\r\n            return false\r\n          } else {\r\n            var storage = window.localStorage\r\n            // 写入a字段\r\n            storage['errorCode'] = JSON.stringify(data.data)\r\n            _this.errorCode = storage['errorCode']\r\n          }\r\n        }\r\n      }\r\n      if (!window.localStorage) {\r\n        request(\r\n          playParams.decoderPath + '/js/errorCode.json',\r\n          'get',\r\n          {\r\n            language: 1,\r\n            time: new Date().getTime(),\r\n            appKey: '26810f3acd794862b608b6cfbc32a6b8'\r\n          },\r\n          success\r\n        )\r\n      } else {\r\n        var storage = window.localStorage\r\n        var errorCode = storage.errorCode\r\n        if (!errorCode) {\r\n          request(\r\n            playParams.decoderPath + '/js/errorCode.json',\r\n            'get',\r\n            {\r\n              language: 1,\r\n              time: new Date().getTime(),\r\n              appKey: '26810f3acd794862b608b6cfbc32a6b8'\r\n            },\r\n            success\r\n          )\r\n        } else {\r\n          _this.errorCode = storage['errorCode']\r\n        }\r\n      }\r\n    }\r\n    var initDecoderPromise = new Promise(initDecoder)\r\n\r\n    return initDecoderPromise\r\n  }\r\n  EZUIPlayer.prototype.stop = function (i) {\r\n    // 执行停止\r\n    this.log('停止播放' + this.opt.currentSource)\r\n    this.opt.autoplay = false\r\n    if (window['CKobject']) {\r\n      // CKobject.getObjectById(this.flashId).destroy();\r\n      this.video.src = ''\r\n      // this.video.remove();\r\n    } else if (this.video) {\r\n      if (this.hls) {\r\n        // hls停止依赖this.hls\r\n        // 通过暂停停止播放\r\n        this.video.pause()\r\n        this.video.src = ''\r\n        // 停止取流\r\n        this.hls.stopLoad()\r\n      } else if (this.flv) {\r\n        this.flv.pause()\r\n        this.flv.unload()\r\n        this.flv.detachMediaElement()\r\n        this.flv.destroy()\r\n        this.flv = null\r\n      } else if (this.JSmpeg) {\r\n        this.JSmpeg.stop()\r\n        // this.JSmpeg.destroy();\r\n      }\r\n    } else if (this.jSPlugin) {\r\n      var _this = this\r\n      if (typeof i === 'undefined') {\r\n        var length = this.opt.sources.length\r\n        for (var index = 0; index < length; index++) {\r\n          this.jSPlugin.JS_Stop(index).then(\r\n            function () {\r\n              _this.log('停止播放成功' + _this.opt.currentSource)\r\n              console.log('stop success')\r\n            },\r\n            function () {\r\n              _this.log('停止播放失败' + _this.opt.currentSource)\r\n              console.log('stop failed')\r\n            }\r\n          )\r\n          // 额外销毁worker\r\n          // this.jSPlugin.JS_DestroyWorker();\r\n          removeChild(index)\r\n        }\r\n      } else {\r\n        this.jSPlugin.JS_Stop(i).then(\r\n          function () {\r\n            _this.log('停止播放成功' + _this.opt.currentSource)\r\n            console.log('stop success')\r\n          },\r\n          function () {\r\n            _this.log('停止播放失败' + _this.opt.currentSource)\r\n            console.log('stop failed')\r\n          }\r\n        )\r\n        // 额外销毁worker\r\n        // this.jSPlugin.JS_DestroyWorker();\r\n        removeChild(i)\r\n      }\r\n      function removeChild (index) {\r\n        var windDOM = document.getElementById(_this.opt.id).childNodes[0]\r\n          .childNodes[index]\r\n        var childs = windDOM.childNodes\r\n        for (var i = childs.length - 1; i >= 0; i--) {\r\n          windDOM.removeChild(childs[i])\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  EZUIPlayer.prototype.pause = function () {\r\n    this.opt.autoplay = false\r\n    if (window['CKobject']) {\r\n      CKobject.getObjectById(this.flashId).videoPause()\r\n    } else if (this.video) {\r\n      if (this.JSmpeg) {\r\n        this.JSmpeg.pause()\r\n      } else {\r\n        this.video.pause()\r\n      }\r\n    } else if (this.jSPlugin) {\r\n      this.jSPlugin.JS_Pause(0).then(function () {}, function () {})\r\n    }\r\n  }\r\n\r\n  EZUIPlayer.prototype.load = function () {\r\n    if (window['CKobject']) {\r\n      // flash load\r\n    } else if (this.video) {\r\n      this.video.load()\r\n    }\r\n  }\r\n\r\n  // iOS11手机HLS直播在m3u8响应时间过长后不继续请求的hack\r\n  function ios11Hack (video) {\r\n    var isloadeddata = false\r\n    var isPlaying = false\r\n    var stalledCount = 0\r\n    video.addEventListener(\r\n      'loadeddata',\r\n      function () {\r\n        isloadeddata = true\r\n      },\r\n      false\r\n    )\r\n    video.addEventListener(\r\n      'stalled',\r\n      function () {\r\n        stalledCount++\r\n        if (!isPlaying) {\r\n          if (stalledCount >= 2 && !isloadeddata) {\r\n            video.load()\r\n            video.play()\r\n            isloadeddata = false\r\n            isPlaying = false\r\n            stalledCount = 0\r\n          }\r\n        }\r\n      },\r\n      false\r\n    )\r\n    video.addEventListener('playing', function () {\r\n      isPlaying = true\r\n    })\r\n  }\r\n\r\n  function ltIE11 () {\r\n    var userAgent = navigator.userAgent // 取得浏览器的userAgent字符串\r\n    var isIE =\r\n      userAgent.indexOf('compatible') > -1 && userAgent.indexOf('MSIE') > -1 // 判断是否IE<11浏览器\r\n    if (isIE) {\r\n      return true\r\n    } else {\r\n      return false\r\n    }\r\n  }\r\n\r\n  // 判断浏览器终端类型\r\n  function browserTerminal () {\r\n    var u = window.navigator.userAgent\r\n    var browserClass = {\r\n      trident: u.indexOf('Trident') > -1, // IE内核\r\n      presto: u.indexOf('Presto') > -1, // opera内核\r\n      webKit: u.indexOf('AppleWebKit') > -1, // 苹果、谷歌内核\r\n      gecko: u.indexOf('Gecko') > -1 && u.indexOf('KHTML') === -1, // 火狐内核\r\n      mobile: !!u.match(/AppleWebKit.*Mobile.*/), // 是否为移动终端\r\n      ios: !!u.match(/\\(i[^;]+;( U;)? CPU.+Mac OS X/), // ios终端\r\n      android: u.indexOf('Android') > -1 || u.indexOf('Adr') > -1, // android终端\r\n      iPhone: u.indexOf('iPhone') > -1, // 是否为iPhone或者QQHD浏览器\r\n      iPad: u.indexOf('iPad') > -1, // 是否iPad\r\n      webApp: u.indexOf('Safari') == -1, // 是否web应该程序，没有头部与底部\r\n      weixin: u.indexOf('MicroMessenger') > -1, // 是否微信\r\n      qq: u.match(/\\sQQ/i) == ' qq', // 是否QQ\r\n      ie:\r\n        u.indexOf('Trident') > -1 ||\r\n        u.indexOf('MSIE') > -1 ||\r\n        u.indexOf('compatible') > -1\r\n    }\r\n    return browserClass\r\n  }\r\n\r\n  // 公共方法\r\n  var Util = {\r\n    // 初始化\r\n    init: function () {\r\n      navigator.getUserMedia =\r\n        navigator.getUserMedia ||\r\n        navigator.webkitGetUserMedia ||\r\n        navigator.mozGetUserMedia ||\r\n        navigator.msGetUserMedia\r\n\r\n      window.AudioContext = window.AudioContext || window.webkitAudioContext\r\n    },\r\n    // 日志\r\n    log: function () {\r\n      console.log.apply(console, arguments)\r\n    }\r\n  }\r\n\r\n  var EZUITalk = function (bizParams) {\r\n    if (bizParams && typeof bizParams !== 'object') {\r\n      throw new Error(\"EZUITalk requires parameter it doesn't right\")\r\n    }\r\n    var audioId = bizParams.id\r\n    var Token = bizParams.token\r\n    var uuid = bizParams.uuid\r\n    if (typeof audioId !== 'string' || typeof audioId === 'undefined') {\r\n      throw new Error('EZUITalk requires parameter audioId')\r\n    }\r\n    this.audio = document.getElementById(audioId)\r\n    if (!this.audio) {\r\n      throw new Error('EZUITalk requires parameter audioElement')\r\n    }\r\n    if (!Token) {\r\n      throw new Error('EZUITalk requires parameter accessToken')\r\n    }\r\n    if (!uuid) {\r\n      throw new Error('EZUITalk requires parameter uuid')\r\n    }\r\n    Util.init()\r\n    if (!navigator.getUserMedia) {\r\n      throw new Error('当前浏览器不支持录音功能')\r\n    }\r\n    var browserC = browserTerminal()\r\n    if (!browserC.mobile) {\r\n      throw new Error('对讲功能仅在手机中支持进行对讲')\r\n    }\r\n\r\n    // 事件存储\r\n    this.handlers = {}\r\n    var _this = this\r\n    this.BUFFER = []\r\n    this.encoder = undefined\r\n\r\n    this.isEnded = true\r\n    this.LENGTH = 20\r\n    this.audio.addEventListener('ended', function () {\r\n      _this.isEnded = true\r\n    })\r\n\r\n    // 对讲的播放功能\r\n    this.audioPlay = function () {\r\n      if (this.isEnded) {\r\n        this.isEnded = false\r\n        if (this.BUFFER.length > this.LENGTH) {\r\n          this.BUFFER = this.BUFFER.slice(0, this.LENGTH)\r\n        }\r\n        this.encoder = new WavAudioEncoder(16000, 1)\r\n        var buf = this.BUFFER.shift()\r\n        while (buf) {\r\n          this.encoder.encode(buf)\r\n          buf = this.BUFFER.shift()\r\n        }\r\n        this.audio.src = URL.createObjectURL(this.encoder.finish())\r\n      }\r\n    }\r\n\r\n    // 按钮触发对讲功能\r\n    this.start = function () {\r\n      this.wsUrl = 'wss://test2.ys7.com:20007/opentalk/' + uuid\r\n      this.socket = new WebSocket(this.wsUrl)\r\n      this.talk()\r\n    }\r\n\r\n    this.talk = function () {\r\n      addJs(wav, function () {\r\n        _this.socket.onopen = function () {\r\n          _this.log('websocket已连接')\r\n          var sendData = {\r\n            accessToken: Token,\r\n            uuid: uuid\r\n          }\r\n          var messageJson = JSON.stringify(sendData)\r\n          _this.socket.send(messageJson)\r\n          _this.log('websocket 发送文本数据')\r\n          _this.startRecord()\r\n        }\r\n        _this.socket.onclose = function () {\r\n          _this.log('websocket已关闭')\r\n        }\r\n        _this.socket.onerror = function (e) {\r\n          _this.log('websocket出错->' + JSON.stringify(e))\r\n        }\r\n        _this.socket.onmessage = function (e) {\r\n          _this.log('websocket 接收数据')\r\n          _this.BUFFER.push(e.data)\r\n          _this.audioPlay()\r\n        }\r\n\r\n        _this.audio.setAttribute('autoplay', true)\r\n        _this.audio.play()\r\n      })\r\n    }\r\n\r\n    // 对讲中的说话功能\r\n    this.startRecord = function () {\r\n      navigator.mediaDevices\r\n        .getUserMedia({ audio: true })\r\n        .then(function (stream) {\r\n          var context = new AudioContext(),\r\n            microphone = context.createMediaStreamSource(stream), // 媒体流音频源\r\n            processor = context.createScriptProcessor(16384, 1, 1) // js音频处理器\r\n\r\n          _this.log('当前浏览器采样率为： ' + context.sampleRate)\r\n\r\n          processor.onaudioprocess = function (event) {\r\n            // 监听音频录制过程\r\n            var array = event.inputBuffer.getChannelData(0)\r\n            // _this.log('监听声音录制');\r\n            realTimeWorker.postMessage({ cmd: 'encode', buf: array })\r\n          }\r\n\r\n          var realTimeWorker = new Worker('../js/worker.js') // 开启后台线程\r\n\r\n          realTimeWorker.onmessage = function (e) {\r\n            // 主线程监听后台线程，实时通信\r\n            switch (e.data.cmd) {\r\n              case 'pcm':\r\n                _this.socket.send(e.data.buf)\r\n                console.log(e.data.buf)\r\n                _this.log('websocket 发送数据')\r\n                break\r\n              default:\r\n                _this.log('未知信息：' + e.data)\r\n            }\r\n          }\r\n\r\n          // 开始对讲\r\n          if (processor && microphone) {\r\n            microphone.connect(processor)\r\n            processor.connect(context.destination)\r\n          }\r\n          _this.log('开始对讲')\r\n\r\n          // 结束对讲\r\n          _this.stop = function () {\r\n            if (processor && microphone) {\r\n              microphone.disconnect()\r\n              processor.disconnect()\r\n            }\r\n            _this.socket.close()\r\n            _this.log('结束对讲')\r\n          }\r\n        })\r\n        .catch(function (error) {\r\n          var msg\r\n          switch (error.code || error.name) {\r\n            case 'PermissionDeniedError':\r\n            case 'PERMISSION_DENIED':\r\n            case 'NotAllowedError':\r\n              msg = '用户拒绝访问麦克风'\r\n              break\r\n            case 'NOT_SUPPORTED_ERROR':\r\n            case 'NotSupportedError':\r\n              msg = '浏览器不支持麦克风'\r\n              break\r\n            case 'MANDATORY_UNSATISFIED_ERROR':\r\n            case 'MandatoryUnsatisfiedError':\r\n              msg = '找不到麦克风设备'\r\n              break\r\n            default:\r\n              msg = '无法打开麦克风，异常信息:' + (error.code || error.name)\r\n              break\r\n          }\r\n          _this.log(msg)\r\n          alert(msg)\r\n        })\r\n    }\r\n  }\r\n\r\n  // 事件监听\r\n  EZUITalk.prototype.on = function (eventName, callback) {\r\n    if (typeof eventName !== 'string' || typeof callback !== 'function') {\r\n      return\r\n    }\r\n    if (typeof this.handlers[eventName] === 'undefined') {\r\n      this.handlers[eventName] = []\r\n    }\r\n    this.handlers[eventName].push(callback)\r\n  }\r\n\r\n  // 事件触发\r\n  EZUITalk.prototype.emit = function () {\r\n    if (this.handlers[arguments[0]] instanceof Array) {\r\n      var handlers = this.handlers[arguments[0]]\r\n      var l = handlers.length\r\n      for (var i = 0; i < l; i++) {\r\n        handlers[i].apply(this, Array.prototype.slice.call(arguments, 1))\r\n      }\r\n    }\r\n  }\r\n\r\n  EZUITalk.prototype.log = function (msg) {\r\n    this.emit('log', msg)\r\n  }\r\n\r\n  var EZUIKit = {\r\n    EZUIPlayer: EZUIPlayer,\r\n    EZUITalk: EZUITalk\r\n  }\r\n  // 兼容1.4 以下旧版本\r\n  // var EZUIPlayer = EZuikit.EZUIPlayer;\r\n\r\n  if (!noGlobal) {\r\n    window.EZUIKit = EZUIKit\r\n    // 兼容1.4 以下旧版本\r\n    window.EZUIPlayer = EZUIPlayer\r\n  }\r\n  return EZUIKit\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/ezuikit.js","<template>\r\n  <video-player class=\"video-player vjs-custom-skin\"\r\n                ref=\"videoPlayer\"\r\n                :playsinline=\"true\"\r\n                :options=\"playerOptions\"></video-player>\r\n</template>\r\n<script>\r\n// import VideoPlayer from 'vue-video-player'\r\n// require('video.js/dist/video-js.css')\r\n// require('vue-video-player/src/custom-theme.css')\r\nexport default {\r\n  name: 'MyPlayer',\r\n  // components: { VideoPlayer },\r\n  props: {\r\n    url: ''\r\n  },\r\n  data () {\r\n    return {\r\n      // 视频播放\r\n      playerOptions: {\r\n        playbackRates: [0.7, 1.0, 1.5, 2.0], // 播放速度\r\n        autoplay: false, // 如果true,浏览器准备好时开始回放。\r\n        muted: false, // 默认情况下将会消除任何音频。\r\n        loop: false, // 导致视频一结束就重新开始。\r\n        preload: 'auto', // 建议浏览器在<video>加载元素后是否应该开始下载视频数据。auto浏览器选择最佳行为,立即开始加载视频（如果浏览器支持）\r\n        language: 'zh-CN',\r\n        aspectRatio: '16:9', // 将播放器置于流畅模式，并在计算播放器的动态大小时使用该值。值应该代表一个比例 - 用冒号分隔的两个数字（例如\"16:9\"或\"4:3\"）\r\n        fluid: true, // 当true时，Video.js player将拥有流体大小。换句话说，它将按比例缩放以适应其容器。\r\n        sources: [{\r\n          type: '',\r\n          src: this.url// url地址\r\n        }],\r\n        poster: '', // 你的封面地址\r\n        // width: document.documentElement.clientWidth,\r\n        notSupportedMessage: '此视频暂无法播放，请稍后再试', // 允许覆盖Video.js无法播放媒体源时显示的默认信息。\r\n        controlBar: {\r\n          timeDivider: true,\r\n          durationDisplay: true,\r\n          remainingTimeDisplay: false,\r\n          fullscreenToggle: true // 全屏按钮\r\n        }\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    // 更改视频源 videoUrl从弹出框组件传值\r\n    url: function (newVal, oldVal) {\r\n      if (newVal) {\r\n        // this.$refs.videoPlayer.player.src(val)\r\n        this.playerOptions.sources[0].src = newVal\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/player/MyPlayer.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('video-player',{ref:\"videoPlayer\",staticClass:\"video-player vjs-custom-skin\",attrs:{\"playsinline\":true,\"options\":_vm.playerOptions}})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-2605d534\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/player/MyPlayer.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./MyPlayer.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./MyPlayer.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2605d534\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./MyPlayer.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/player/MyPlayer.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}