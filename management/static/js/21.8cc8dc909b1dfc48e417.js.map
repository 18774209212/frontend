{"version":3,"sources":["webpack:///src/views/web/Weather.vue","webpack:///./src/views/web/Weather.vue?57d0","webpack:///./src/views/web/Weather.vue"],"names":["Weather","data","loading","seven","series","chartOptions","chart","shadow","enabled","color","top","left","blur","opacity","toolbar","show","colors","dataLabels","stroke","curve","markers","size","xaxis","yaxis","future","dataSource","storage","citys","areaId","weather","provinceName","countyName","weathers","day_c","night_c","hours_c","dateArr","timeArr","publishTime","alarms","realtime","indexes","mounted","_this","this","_axios_0_18_1_axios_default","a","get","then","r","methods","handleSearch","value","i","length","currentCity","countyname","indexOf","push","areaid","onSelect","index","searchWeather","_this2","$get","JSON","parse","code","city","min","max","unshift","parseFloat","temp_day_c","temp_night_c","date","split","weather3HoursDetailsInfos","weatherDetailsInfo","_i","time","endTime","highestTemperature","$refs","updateSeries","name","updateOptions","categories","title","text","align","catch","console","error","$message","warning","web_Weather","render","_vm","_h","$createElement","_c","_self","staticStyle","width","padding","staticClass","attrs","placeholder","on","select","search","slot","type","click","$event","stopPropagation","_v","directives","rawName","expression","ref","height","options","span","_s","wD","wS","temp","sendibleTemp","sD","_l","w","key","week","sun_rise_time","sun_down_time","_e","content","alarmDesc","alarmTypeDesc","alarmLevelNoDesc","precaution","max-width","alarmContent","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/21.8cc8dc909b1dfc48e417.js","sourcesContent":["<template>\n  <div style=\"width: 100%; padding: 0 1rem\">\n    <div class=\"global-search-main\">\n      <div class=\"global-search-wrapper\">\n        <a-auto-complete\n          :dataSource=\"dataSource\"\n          class=\"global-search\"\n          @select=\"onSelect\"\n          @search=\"handleSearch\"\n          placeholder=\"请输入城市名\">\n          <a-input>\n            <a-button slot=\"suffix\" class=\"search-btn\" type=\"primary\" @click.stop=\"searchWeather\">\n              <a-icon type=\"search\"/>\n            </a-button>\n          </a-input>\n        </a-auto-complete>\n      </div>\n    </div>\n    <div class=\"weather-area\" v-show=\"!loading\">\n      <div class=\"weather-chart-info\">\n        <apexchart ref=\"seven\" height=\"350\" type=line :options=\"seven.chartOptions\" :series=\"seven.series\" />\n      </div>\n      <div class=\"weather-chart-info\">\n        <apexchart ref=\"future\" height=\"350\" type=area :options=\"future.chartOptions\" :series=\"future.series\" />\n      </div>\n    </div>\n    <div class=\"weather-area\">\n      <div class=\"weather-info\">\n        <a-card :loading=\"loading\" :title=\"this.weather.countyName + ' 当前天气'\">\n          <a-row>\n            <a-col :span=\"8\"><p>天气：{{this.weather.realtime.weather}}</p></a-col>\n            <a-col :span=\"8\"><p>风向：{{this.weather.realtime.wD}}</p></a-col>\n            <a-col :span=\"8\"><p>风力大小：{{this.weather.realtime.wS}}</p></a-col>\n          </a-row>\n          <a-row>\n            <a-col :span=\"8\"><p>温度：{{this.weather.realtime.temp}}℃</p></a-col>\n            <a-col :span=\"8\"><p>体感温度：{{this.weather.realtime.sendibleTemp}}℃</p></a-col>\n            <a-col :span=\"8\"><p>空气湿度：{{this.weather.realtime.sD}}%</p></a-col>\n          </a-row>\n          <a-row>\n            <a-col :span=\"8\"><p>更新时间：{{this.weather.realtime.time}}</p></a-col>\n          </a-row>\n        </a-card>\n      </div>\n      <div class=\"weather-info\">\n        <a-card :loading=\"loading\" :title=\"this.weather.countyName + ' 未来天气'\">\n          <a-row>\n            <a-col :span=\"24\" v-for=\"(w, index) in this.weather.weathers\" :key=\"index\">\n              <template v-if=\"index !== 6\">\n                <p>{{w.date}}【{{w.week}}】：日出时间 --- {{w.sun_rise_time}}      日落时间 --- {{w.sun_down_time}}      天气 --- {{w.weather}}</p>\n              </template>\n            </a-col>\n          </a-row>\n        </a-card>\n      </div>\n      <div class=\"weather-info\">\n        <a-card :loading=\"loading\" :title=\"this.weather.countyName + ' 生活指数'\">\n          <a-row>\n            <a-col :span=\"24\" v-for=\"(i, index) in this.weather.indexes\" :key=\"index\">\n              <p>{{i.name}} --- {{i.content}}</p>\n            </a-col>\n          </a-row>\n        </a-card>\n      </div>\n      <div class=\"weather-info\" v-if=\"this.weather.alarms.length\">\n        <a-card :loading=\"loading\" :title=\"this.weather.countyName + ' 预警信息'\">\n          <a-col :span=\"24\">\n            <p>预警标题 --- {{this.weather.alarms[0].alarmDesc}}</p>\n            <p>预警类型 --- {{this.weather.alarms[0].alarmTypeDesc}}</p>\n            <p>预警等级 --- {{this.weather.alarms[0].alarmLevelNoDesc}}</p>\n            <p>发布时间 --- {{this.weather.alarms[0].publishTime}}</p>\n            <p>预防措施 --- {{this.weather.alarms[0].precaution}}</p>\n            <a-popover title=\"预警详情\">\n              <template slot=\"content\">\n                <div style=\"max-width: 360px\">{{this.weather.alarms[0].alarmContent}}</div>\n              </template>\n              <p>预警详情 --- {{this.weather.alarms[0].alarmContent}}</p>\n            </a-popover>\n          </a-col>\n        </a-card>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport axios from 'axios'\n\nexport default {\n  data () {\n    return {\n      loading: true,\n      seven: {\n        series: [],\n        chartOptions: {\n          chart: {\n            shadow: {\n              enabled: true,\n              color: '#000',\n              top: 18,\n              left: 7,\n              blur: 10,\n              opacity: 1\n            },\n            toolbar: {\n              show: false\n            }\n          },\n          colors: ['#f5564e', '#35d0ba'],\n          dataLabels: {\n            enabled: true\n          },\n          stroke: {\n            curve: 'smooth'\n          },\n          markers: {\n            size: 4\n          },\n          xaxis: {},\n          yaxis: {}\n        }\n      },\n      future: {\n        series: [],\n        chartOptions: {\n          chart: {\n            toolbar: {\n              show: false\n            }\n          },\n          dataLabels: {\n            enabled: false\n          },\n          stroke: {\n            curve: 'smooth'\n          },\n          xaxis: {}\n        }\n      },\n      dataSource: [],\n      storage: [],\n      citys: [],\n      areaId: '',\n      weather: {\n        provinceName: '',\n        countyName: '',\n        weathers: [],\n        day_c: [],\n        night_c: [],\n        hours_c: [],\n        dateArr: [],\n        timeArr: [],\n        publishTime: '',\n        alarms: [],\n        realtime: {},\n        indexes: []\n      }\n    }\n  },\n  mounted () {\n    axios.get('../../../static/file/city.json').then((r) => {\n      this.citys = r.data\n    })\n  },\n  methods: {\n    handleSearch (value) {\n      this.dataSource = []\n      this.storage = []\n      this.areaId = ''\n      if (!value) {\n        return\n      }\n      for (let i = 0; i < this.citys.length; i++) {\n        let currentCity = this.citys[i]\n        if (currentCity.countyname.indexOf(value) !== -1) {\n          this.dataSource.push(currentCity.countyname)\n          this.storage.push(currentCity.areaid)\n        }\n      }\n    },\n    onSelect (value) {\n      let index = this.dataSource.indexOf(value)\n      this.areaId = this.storage[index]\n    },\n    searchWeather () {\n      if (!this.areaId) {\n        this.$message.warning('请选择城市')\n      } else {\n        this.$get('weather?areaId=' + this.areaId).then((r) => {\n          let data = JSON.parse(r.data.data)\n          if (data.code === '200') {\n            this.weather = {\n              countyName: '',\n              weathers: [],\n              day_c: [],\n              night_c: [],\n              hours_c: [],\n              dateArr: [],\n              timeArr: [],\n              publishTime: ''\n            }\n            this.loading = false\n            this.weather.provinceName = data.value[0].provinceName\n            this.weather.countyName = data.value[0].city\n            this.weather.weathers = data.value[0].weathers\n            this.weather.alarms = data.value[0].alarms\n            this.weather.realtime = data.value[0].realtime\n            this.weather.indexes = data.value[0].indexes\n            let weathers = this.weather.weathers\n            let min = 0\n            let max = 0\n            for (let i = 0; i < weathers.length; i++) {\n              if (i === weathers.length - 1) {\n                this.weather.day_c.unshift(parseFloat(weathers[i].temp_day_c))\n                this.weather.night_c.unshift(parseFloat(weathers[i].temp_night_c))\n                this.weather.dateArr.unshift(weathers[i].date.split('-')[1] + '-' + weathers[i].date.split('-')[2])\n              } else {\n                this.weather.day_c.push(parseFloat(weathers[i].temp_day_c))\n                this.weather.night_c.push(parseFloat(weathers[i].temp_night_c))\n                this.weather.dateArr.push(weathers[i].date.split('-')[1] + '-' + weathers[i].date.split('-')[2])\n              }\n              if (i === 0) {\n                max = this.weather.day_c[0]\n                min = this.weather.night_c[0]\n              } else {\n                if (this.weather.day_c[i] > max) {\n                  max = this.weather.day_c[i]\n                }\n                if (this.weather.night_c[i] < min) {\n                  min = this.weather.night_c[i]\n                }\n              }\n            }\n            let weather3HoursDetailsInfos = data.value[0].weatherDetailsInfo.weather3HoursDetailsInfos\n            this.weather.publishTime = data.value[0].weatherDetailsInfo.publishTime\n            for (let i = 0; i < weather3HoursDetailsInfos.length; i++) {\n              let time = weather3HoursDetailsInfos[i].endTime.split(' ')[1].split(':')\n              this.weather.hours_c.push(parseFloat(weather3HoursDetailsInfos[i].highestTemperature))\n              this.weather.timeArr.push(time[0] + ':' + time[1])\n            }\n            this.$refs.seven.updateSeries([\n              {\n                name: '最高温',\n                data: this.weather.day_c\n              },\n              {\n                name: '最低温',\n                data: this.weather.night_c\n              }\n            ], true)\n            this.$refs.future.updateSeries([\n              {\n                name: '未来气温',\n                data: this.weather.hours_c\n              }\n            ])\n            this.$refs.seven.updateOptions({\n              xaxis: {\n                categories: this.weather.dateArr\n              },\n              yaxis: {\n                min: min - 5,\n                max: max + 5\n              },\n              title: {\n                text: `${this.weather.provinceName} - ${this.weather.countyName}未来七日气温`,\n                align: 'center'\n              }\n            }, true, true)\n            this.$refs.future.updateOptions({\n              xaxis: {\n                categories: this.weather.timeArr\n              },\n              title: {\n                text: `${this.weather.provinceName} - ${this.weather.countyName}未来气温细节`,\n                align: 'center'\n              }\n            }, true, true)\n          }\n        }).catch((r) => {\n          console.error(r)\n          this.$message.error('天气查询失败')\n        })\n      }\n    }\n  }\n}\n</script>\n<style lang=\"less\">\n  .global-search-main {\n    margin-bottom: 2.5rem;\n    .global-search-wrapper {\n      width: 300px;\n      margin:0 auto;\n      .global-search {\n        width: 100%;\n      }\n    }\n  }\n  .weather-area {\n    display: inline;\n    .weather-chart-info {\n      width: 49%;\n      display:inline-block;\n    }\n    .weather-info {\n      margin: .5rem 0;\n      width: 100%;\n      display: inline-block;\n      p {\n        margin-bottom: .4rem !important;\n      }\n    }\n  }\n  .global-search.ant-select-auto-complete {\n    .ant-select-selection--single {\n      margin-right: -46px;\n    }\n    .ant-input-affix-wrapper {\n      .ant-input:not(:last-child) {\n        padding-right: 62px;\n      }\n      .ant-input-suffix {\n        right: 0;\n      }\n      .ant-input-suffix button {\n        border-top-left-radius: 0;\n        border-bottom-left-radius: 0;\n      }\n    }\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/web/Weather.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"width\":\"100%\",\"padding\":\"0 1rem\"}},[_c('div',{staticClass:\"global-search-main\"},[_c('div',{staticClass:\"global-search-wrapper\"},[_c('a-auto-complete',{staticClass:\"global-search\",attrs:{\"dataSource\":_vm.dataSource,\"placeholder\":\"请输入城市名\"},on:{\"select\":_vm.onSelect,\"search\":_vm.handleSearch}},[_c('a-input',[_c('a-button',{staticClass:\"search-btn\",attrs:{\"slot\":\"suffix\",\"type\":\"primary\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.searchWeather($event)}},slot:\"suffix\"},[_c('a-icon',{attrs:{\"type\":\"search\"}})],1)],1)],1)],1)]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.loading),expression:\"!loading\"}],staticClass:\"weather-area\"},[_c('div',{staticClass:\"weather-chart-info\"},[_c('apexchart',{ref:\"seven\",attrs:{\"height\":\"350\",\"type\":\"line\",\"options\":_vm.seven.chartOptions,\"series\":_vm.seven.series}})],1),_vm._v(\" \"),_c('div',{staticClass:\"weather-chart-info\"},[_c('apexchart',{ref:\"future\",attrs:{\"height\":\"350\",\"type\":\"area\",\"options\":_vm.future.chartOptions,\"series\":_vm.future.series}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"weather-area\"},[_c('div',{staticClass:\"weather-info\"},[_c('a-card',{attrs:{\"loading\":_vm.loading,\"title\":this.weather.countyName + ' 当前天气'}},[_c('a-row',[_c('a-col',{attrs:{\"span\":8}},[_c('p',[_vm._v(\"天气：\"+_vm._s(this.weather.realtime.weather))])]),_vm._v(\" \"),_c('a-col',{attrs:{\"span\":8}},[_c('p',[_vm._v(\"风向：\"+_vm._s(this.weather.realtime.wD))])]),_vm._v(\" \"),_c('a-col',{attrs:{\"span\":8}},[_c('p',[_vm._v(\"风力大小：\"+_vm._s(this.weather.realtime.wS))])])],1),_vm._v(\" \"),_c('a-row',[_c('a-col',{attrs:{\"span\":8}},[_c('p',[_vm._v(\"温度：\"+_vm._s(this.weather.realtime.temp)+\"℃\")])]),_vm._v(\" \"),_c('a-col',{attrs:{\"span\":8}},[_c('p',[_vm._v(\"体感温度：\"+_vm._s(this.weather.realtime.sendibleTemp)+\"℃\")])]),_vm._v(\" \"),_c('a-col',{attrs:{\"span\":8}},[_c('p',[_vm._v(\"空气湿度：\"+_vm._s(this.weather.realtime.sD)+\"%\")])])],1),_vm._v(\" \"),_c('a-row',[_c('a-col',{attrs:{\"span\":8}},[_c('p',[_vm._v(\"更新时间：\"+_vm._s(this.weather.realtime.time))])])],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"weather-info\"},[_c('a-card',{attrs:{\"loading\":_vm.loading,\"title\":this.weather.countyName + ' 未来天气'}},[_c('a-row',_vm._l((this.weather.weathers),function(w,index){return _c('a-col',{key:index,attrs:{\"span\":24}},[(index !== 6)?[_c('p',[_vm._v(_vm._s(w.date)+\"【\"+_vm._s(w.week)+\"】：日出时间 --- \"+_vm._s(w.sun_rise_time)+\"      日落时间 --- \"+_vm._s(w.sun_down_time)+\"      天气 --- \"+_vm._s(w.weather))])]:_vm._e()],2)}))],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"weather-info\"},[_c('a-card',{attrs:{\"loading\":_vm.loading,\"title\":this.weather.countyName + ' 生活指数'}},[_c('a-row',_vm._l((this.weather.indexes),function(i,index){return _c('a-col',{key:index,attrs:{\"span\":24}},[_c('p',[_vm._v(_vm._s(i.name)+\" --- \"+_vm._s(i.content))])])}))],1)],1),_vm._v(\" \"),(this.weather.alarms.length)?_c('div',{staticClass:\"weather-info\"},[_c('a-card',{attrs:{\"loading\":_vm.loading,\"title\":this.weather.countyName + ' 预警信息'}},[_c('a-col',{attrs:{\"span\":24}},[_c('p',[_vm._v(\"预警标题 --- \"+_vm._s(this.weather.alarms[0].alarmDesc))]),_vm._v(\" \"),_c('p',[_vm._v(\"预警类型 --- \"+_vm._s(this.weather.alarms[0].alarmTypeDesc))]),_vm._v(\" \"),_c('p',[_vm._v(\"预警等级 --- \"+_vm._s(this.weather.alarms[0].alarmLevelNoDesc))]),_vm._v(\" \"),_c('p',[_vm._v(\"发布时间 --- \"+_vm._s(this.weather.alarms[0].publishTime))]),_vm._v(\" \"),_c('p',[_vm._v(\"预防措施 --- \"+_vm._s(this.weather.alarms[0].precaution))]),_vm._v(\" \"),_c('a-popover',{attrs:{\"title\":\"预警详情\"}},[_c('template',{slot:\"content\"},[_c('div',{staticStyle:{\"max-width\":\"360px\"}},[_vm._v(_vm._s(this.weather.alarms[0].alarmContent))])]),_vm._v(\" \"),_c('p',[_vm._v(\"预警详情 --- \"+_vm._s(this.weather.alarms[0].alarmContent))])],2)],1)],1)],1):_vm._e()])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-a8adb316\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/views/web/Weather.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-a8adb316\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./Weather.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./Weather.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./Weather.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-a8adb316\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./Weather.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/web/Weather.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}